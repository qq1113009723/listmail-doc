{"config":{"lang":["en","zh"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u7b80\u4ecb","text":"<p>stmails \u662f\u4e00\u4e2a\u81ea\u6258\u7ba1\u7684\u3001\u9ad8\u6027\u80fd\u7684\u5355\u5411\u90ae\u4ef6\u5217\u8868\u548c\u65b0\u95fb\u901a\u8baf\u7ba1\u7406\u5668\u3002</p> <p></p>"},{"location":"archives/","title":"\u5f52\u6863","text":"<p>\u5728\u516c\u5171 Web \u754c\u9762\u4e0a\u7ef4\u62a4\u4e00\u4e2a\u5168\u5c40\u516c\u5171\u5f52\u6863\u3002\u53ef\u4ee5\u5728\u8bbe\u7f6e -&gt; \u8bbe\u7f6e -&gt; \u5e38\u89c4 -&gt; \u542f\u7528\u516c\u5171\u90ae\u4ef6\u5217\u8868\u5f52\u6863\u4e2d\u542f\u7528\u5b83\u3002</p> <p>\u8981\u4f7f\u6d3b\u52a8\u5728\u516c\u5171\u5f52\u6863\u4e2d\u53ef\u7528\uff08\u5047\u8bbe\u5df2\u5982\u4e0a\u6240\u8ff0\u5728\u8bbe\u7f6e\u4e2d\u542f\u7528\uff09\uff0c\u8bf7\u5728\u6d3b\u52a8 -&gt; \u521b\u5efa\u65b0 -&gt; \u5f52\u6863\u4e2d\u542f\u7528\"\u53d1\u5e03\u5230\u516c\u5171\u5f52\u6863\"\u9009\u9879\u3002</p> <p>\u5f53\u4f7f\u7528\u4f9d\u8d56\u4e8e\u8ba2\u9605\u8005\u6570\u636e\u7684\u6a21\u677f\u53d8\u91cf\uff08\u4f8b\u5982\u4efb\u4f55\u5f15\u7528 <code>.Subscriber</code> \u7684\u6a21\u677f\u53d8\u91cf\uff09\u65f6\uff0c\u6b64\u7c7b\u6570\u636e\u5fc5\u987b\u4f5c\u4e3a\"\u6d3b\u52a8\u5143\u6570\u636e\"\u63d0\u4f9b\uff0c\u8fd9\u662f\u4e00\u4e2a JSON \u5bf9\u8c61\uff0c\u5c06\u5728\u6e32\u67d3\u5f52\u6863\u6a21\u677f\u548c\u5185\u5bb9\u65f6\u66ff\u4ee3 <code>.Subscriber</code>\u3002</p> <p>\u5f53\u542f\u7528\u5355\u4e2a\u8ba2\u9605\u8005\u8ddf\u8e2a\u65f6\uff0cTrackLink \u8981\u6c42\u5c06\u73b0\u6709\u7528\u6237\u7684 UUID \u4f5c\u4e3a\u6d3b\u52a8\u5143\u6570\u636e\u7684\u4e00\u90e8\u5206\u63d0\u4f9b\u3002\u4ece\u5f52\u6863\u6d3b\u52a8\u4e2d\u70b9\u51fb TrackLink \u7684\u4efb\u4f55\u70b9\u51fb\u90fd\u5c06\u8ba1\u5165\u8be5\u8ba2\u9605\u8005\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>{\n  \"UUID\": \"5a837423-a186-5623-9a87-82691cbe3631\",\n  \"email\": \"example@example.com\",\n  \"name\": \"Reader\",\n  \"attribs\": {}\n}\n</code></pre> <p></p>"},{"location":"bounces/","title":"\u9000\u4fe1\u5904\u7406","text":"<p>\u5728\u8bbe\u7f6e -&gt; \u9000\u4fe1\u4e2d\u542f\u7528\u9000\u4fe1\u5904\u7406\u3002POP3 \u9000\u4fe1\u626b\u63cf\u548c API \u53ea\u6709\u5728\u542f\u7528\u6b64\u8bbe\u7f6e\u540e\u624d\u4f1a\u53ef\u7528\u3002</p>"},{"location":"bounces/#pop3","title":"POP3 \u9000\u4fe1\u90ae\u7bb1","text":"<p>\u5728\u8bbe\u7f6e -&gt; \u9000\u4fe1\u4e2d\u914d\u7f6e\u9000\u4fe1\u90ae\u7bb1\u3002\u6d3b\u52a8\uff08\u6216\u5728\u8bbe\u7f6e\u4e2d\uff09\u8bbe\u7f6e\u7684\"\u53d1\u4ef6\u4eba\"\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u5e94\u8be5\u6709\u4e00\u4e2a POP3 \u90ae\u7bb1\u6765\u63a5\u6536\u9000\u4fe1\u90ae\u4ef6\uff0c\u6216\u8005\u60a8\u5e94\u8be5\u914d\u7f6e\u4e00\u4e2a\u4e13\u7528\u7684 POP3 \u90ae\u7bb1\uff0c\u5e76\u5728\u8bbe\u7f6e -&gt; SMTP -&gt; \u81ea\u5b9a\u4e49\u5934\u90e8\u6846\u4e2d\u5c06\u8be5\u5730\u5740\u6dfb\u52a0\u4e3a <code>Return-Path</code>\uff08\u4fe1\u5c01\u53d1\u4ef6\u4eba\uff09\u5934\u90e8\u3002\u4f8b\u5982\uff1a</p> <pre><code>[\n    {\"Return-Path\": \"your-bounce-inbox@site.com\"}\n]\n</code></pre> <p>\u67d0\u4e9b\u90ae\u4ef6\u670d\u52a1\u5668\u4e5f\u53ef\u80fd\u5c06\u9000\u4fe1\u8fd4\u56de\u5230 <code>Reply-To</code> \u5730\u5740\uff0c\u8fd9\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u5230\u5934\u90e8\u8bbe\u7f6e\u4e2d\u3002</p>"},{"location":"bounces/#webhook-api","title":"Webhook API","text":"<p>\u9000\u4fe1 webhook API \u53ef\u7528\u4e8e\u901a\u8fc7\u81ea\u5b9a\u4e49\u811a\u672c\u8bb0\u5f55\u9000\u4fe1\u4e8b\u4ef6\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bfb\u53d6\u90ae\u7bb1\u3001\u6570\u636e\u5e93\u6216\u90ae\u4ef6\u670d\u52a1\u5668\u65e5\u5fd7\u6765\u5b9e\u73b0\u3002</p> \u65b9\u6cd5 \u7aef\u70b9 \u8bf4\u660e <code>POST</code> /webhooks/bounce \u8bb0\u5f55\u9000\u4fe1\u4e8b\u4ef6\u3002 \u540d\u79f0 \u7c7b\u578b \u5fc5\u586b \u8bf4\u660e subscriber_uuid string \u8ba2\u9605\u8005\u7684 UUID\u3002\u9700\u8981\u63d0\u4f9b\u6b64\u5b57\u6bb5\u6216 <code>email</code>\u3002 email string \u8ba2\u9605\u8005\u7684\u7535\u5b50\u90ae\u4ef6\u3002\u9700\u8981\u63d0\u4f9b\u6b64\u5b57\u6bb5\u6216 <code>subscriber_uuid</code>\u3002 campaign_uuid string \u53d1\u751f\u9000\u4fe1\u7684\u6d3b\u52a8 UUID\u3002 source string \u662f \u8868\u793a\u6765\u6e90\u7684\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982\uff1a<code>api</code>\u3001<code>my_script</code> \u7b49\u3002 type string \u662f <code>hard</code> \u6216 <code>soft</code> \u9000\u4fe1\u3002\u76ee\u524d\uff0c\u8fd9\u4e0d\u4f1a\u5f71\u54cd\u9000\u4fe1\u7684\u5904\u7406\u65b9\u5f0f\u3002 meta string \u53ef\u9009\u7684\u8f6c\u4e49 JSON \u5b57\u7b26\u4e32\uff0c\u5305\u542b\u5173\u4e8e\u9000\u4fe1\u4e8b\u4ef6\u7684\u4efb\u610f\u5143\u6570\u636e\u3002 <pre><code>curl -u 'api_username:access_token' -X POST 'http://localhost:9000/webhooks/bounce' \\\n    -H \"Content-Type: application/json\" \\\n    --data '{\"email\": \"user1@mail.com\", \"campaign_uuid\": \"9f86b50d-5711-41c8-ab03-bc91c43d711b\", \"source\": \"api\", \"type\": \"hard\", \"meta\": \"{\\\"additional\\\": \\\"info\\\"}}'\n</code></pre>"},{"location":"bounces/#webhooks","title":"\u5916\u90e8 webhooks","text":"<p>stmails \u652f\u6301\u4ece\u4ee5\u4e0b SMTP \u63d0\u4f9b\u5546\u63a5\u6536\u9000\u4fe1 webhook \u4e8b\u4ef6\u3002</p> \u7aef\u70b9 \u8bf4\u660e \u66f4\u591a\u4fe1\u606f <code>https://stmails.yoursite.com/webhooks/service/ses</code> Amazon (AWS) SES \u89c1\u4e0b\u6587 <code>https://stmails.yoursite.com/webhooks/service/sendgrid</code> Sendgrid / Twilio \u7b7e\u540d\u4e8b\u4ef6 webhook \u66f4\u591a\u4fe1\u606f <code>https://stmails.yoursite.com/webhooks/service/postmark</code> Postmark webhook \u66f4\u591a\u4fe1\u606f <code>https://stmails.yoursite.com/webhooks/service/forwardemail</code> Forward Email webhook \u66f4\u591a\u4fe1\u606f"},{"location":"bounces/#amazon-simple-email-service-ses","title":"Amazon Simple Email Service (SES)","text":"<p>\u5982\u679c\u4f7f\u7528 SES \u4f5c\u4e3a\u60a8\u7684 SMTP \u63d0\u4f9b\u5546\uff0c\u81ea\u52a8\u9000\u4fe1\u5904\u7406\u662f\u7ef4\u62a4\u60a8\u7684\u53d1\u4ef6\u4eba\u58f0\u8a89\u7684\u63a8\u8350\u65b9\u5f0f\u3002\u4ee5\u4e0b\u8bbe\u7f6e\u57fa\u4e8e Amazon \u7684\u5efa\u8bae\u3002\u8bf7\u6ce8\u610f\uff0c\u5728\u7ee7\u7eed\u4e4b\u524d\uff0c\u60a8\u7684\u53d1\u9001\u57df\u540d\u5fc5\u987b\u5728 SES \u4e2d\u9a8c\u8bc1\u3002</p> <ol> <li>\u5728 stmails \u8bbe\u7f6e\u4e2d\uff0c\u8f6c\u5230\"\u9000\u4fe1\"\u9009\u9879\u5361\u5e76\u914d\u7f6e\u4ee5\u4e0b\u5185\u5bb9\uff1a<ul> <li>\u542f\u7528\u9000\u4fe1\u5904\u7406\uff1a<code>\u5df2\u542f\u7528</code><ul> <li>\u8f6f\u9000\u4fe1\uff1a<ul> <li>\u9000\u4fe1\u8ba1\u6570\uff1a<code>2</code></li> <li>\u64cd\u4f5c\uff1a<code>\u65e0</code></li> </ul> </li> <li>\u786c\u9000\u4fe1\uff1a<ul> <li>\u9000\u4fe1\u8ba1\u6570\uff1a<code>1</code></li> <li>\u64cd\u4f5c\uff1a<code>\u52a0\u5165\u9ed1\u540d\u5355</code></li> </ul> </li> <li>\u6295\u8bc9\uff1a <ul> <li>\u9000\u4fe1\u8ba1\u6570\uff1a<code>1</code></li> <li>\u64cd\u4f5c\uff1a<code>\u52a0\u5165\u9ed1\u540d\u5355</code></li> </ul> </li> </ul> </li> <li>\u542f\u7528\u9000\u4fe1 webhooks\uff1a<code>\u5df2\u542f\u7528</code></li> <li>\u542f\u7528 SES\uff1a<code>\u5df2\u542f\u7528</code></li> </ul> </li> <li>\u5728 AWS \u63a7\u5236\u53f0\u4e2d\uff0c\u8f6c\u5230Simple Notification Service\u5e76\u521b\u5efa\u4e00\u4e2a\u65b0\u4e3b\u9898\uff0c\u8bbe\u7f6e\u5982\u4e0b\uff1a<ul> <li>\u7c7b\u578b\uff1a<code>\u6807\u51c6</code></li> <li>\u540d\u79f0\uff1a<code>ses-bounces</code>\uff08\u6216\u4efb\u4f55\u5176\u4ed6\u540d\u79f0\uff09</li> </ul> </li> <li>\u4e3a\u8be5\u4e3b\u9898\u521b\u5efa\u65b0\u8ba2\u9605\uff0c\u8bbe\u7f6e\u5982\u4e0b\uff1a<ul> <li>\u534f\u8bae\uff1a<code>HTTPS</code></li> <li>\u7aef\u70b9\uff1a<code>https://stmails.yoursite.com/webhooks/service/ses</code></li> <li>\u542f\u7528\u539f\u59cb\u6d88\u606f\u4f20\u9012\uff1a<code>\u5df2\u7981\u7528</code>\uff08\u672a\u9009\u4e2d\uff09</li> </ul> </li> <li>SES \u5c06\u5411\u60a8\u7684 stmails \u5b9e\u4f8b\u53d1\u9001\u8bf7\u6c42\u4ee5\u786e\u8ba4\u8ba2\u9605\u3002\u5237\u65b0\u9875\u9762\u540e\uff0c\u8ba2\u9605\u72b6\u6001\u5e94\u4e3a\"\u5df2\u786e\u8ba4\"\u3002\u5982\u679c\u4e0d\u662f\uff0c\u60a8\u7684\u7aef\u70b9\u53ef\u80fd\u4e0d\u6b63\u786e\u6216\u65e0\u6cd5\u516c\u5f00\u8bbf\u95ee\u3002</li> <li>\u5728 AWS \u63a7\u5236\u53f0\u4e2d\uff0c\u8f6c\u5230Simple Email Service\u5e76\u70b9\u51fb\u5de6\u4fa7\u8fb9\u680f\u4e2d\u7684\"\u5df2\u9a8c\u8bc1\u8eab\u4efd\"\u3002</li> <li>\u70b9\u51fb\u60a8\u7684\u57df\u540d\u5e76\u8f6c\u5230\"\u901a\u77e5\"\u9009\u9879\u5361\u3002</li> <li>\u5728\"\u53cd\u9988\u901a\u77e5\"\u65c1\u8fb9\uff0c\u70b9\u51fb\"\u7f16\u8f91\"\u3002</li> <li>\u5bf9\u4e8e\"\u9000\u4fe1\u53cd\u9988\"\u548c\"\u6295\u8bc9\u53cd\u9988\"\uff0c\u4f7f\u7528\u4ee5\u4e0b\u8bbe\u7f6e\uff1a<ul> <li>SNS \u4e3b\u9898\uff1a<code>ses-bounces</code>\uff08\u6216\u60a8\u547d\u540d\u7684\u4efb\u4f55\u540d\u79f0\uff09</li> <li>\u5305\u542b\u539f\u59cb\u7535\u5b50\u90ae\u4ef6\u5934\u90e8\uff1a<code>\u5df2\u542f\u7528</code>\uff08\u9009\u4e2d\uff09</li> </ul> </li> <li>\u5bf9\u4e8e\u4f7f\u7528 stmails \u53d1\u9001\u7684\u6bcf\u4e2a<code>\u7535\u5b50\u90ae\u4ef6\u5730\u5740</code>\u8eab\u4efd\uff0c\u91cd\u590d\u6b65\u9aa4 6-8</li> <li>\u9000\u4fe1\u5904\u7406\u73b0\u5728\u5e94\u8be5\u53ef\u4ee5\u5de5\u4f5c\u4e86\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528SES \u6a21\u62df\u5668\u5730\u5740\u8fdb\u884c\u6d4b\u8bd5\u3002\u5c06\u5b83\u4eec\u6dfb\u52a0\u4e3a\u8ba2\u9605\u8005\uff0c\u53d1\u9001\u6d3b\u52a8\u9884\u89c8\uff0c\u5e76\u786e\u4fdd\u5728\u8fbe\u5230\u914d\u7f6e\u7684\u9000\u4fe1\u8ba1\u6570\u540e\u91c7\u53d6\u4e86\u9002\u5f53\u7684\u64cd\u4f5c\u3002<ul> <li>\u8f6f\u9000\u4fe1\uff1a<code>ooto@simulator.amazonses.com</code></li> <li>\u786c\u9000\u4fe1\uff1a<code>bounce@simulator.amazonses.com</code></li> <li>\u6295\u8bc9\uff1a<code>complaint@simulator.amazonses.com</code></li> </ul> </li> <li>\u60a8\u53ef\u4ee5\u9009\u62e9\u7981\u7528\u7535\u5b50\u90ae\u4ef6\u53cd\u9988\u8f6c\u53d1\u3002</li> </ol>"},{"location":"bounces/#_2","title":"\u5bfc\u51fa\u9000\u4fe1","text":"<p>\u53ef\u4ee5\u901a\u8fc7 JSON API \u5bfc\u51fa\u9000\u4fe1\uff1a <pre><code>curl -u 'username:passsword' 'http://localhost:9000/api/bounces'\n</code></pre></p> <p>\u6216\u76f4\u63a5\u67e5\u8be2\u6570\u636e\u5e93\uff1a <pre><code>SELECT bounces.created_at,\n    bounces.subscriber_id,\n    subscribers.uuid AS subscriber_uuid,\n    subscribers.email AS email\nFROM bounces\nLEFT JOIN subscribers ON (subscribers.id = bounces.subscriber_id)\nORDER BY bounces.created_at DESC LIMIT 1000;\n</code></pre></p>"},{"location":"concepts/","title":"\u6982\u5ff5","text":""},{"location":"concepts/#_2","title":"\u8ba2\u9605\u8005","text":"<p>\u8ba2\u9605\u8005\u662f\u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u548c\u59d3\u540d\u8bc6\u522b\u7684\u6536\u4ef6\u4eba\u3002\u8ba2\u9605\u8005\u63a5\u6536\u4ece stmails \u53d1\u9001\u7684\u7535\u5b50\u90ae\u4ef6\u3002\u4e00\u4e2a\u8ba2\u9605\u8005\u53ef\u4ee5\u88ab\u6dfb\u52a0\u5230\u4efb\u610f\u6570\u91cf\u7684\u5217\u8868\u4e2d\u3002\u4e0d\u5c5e\u4e8e\u4efb\u4f55\u5217\u8868\u7684\u8ba2\u9605\u8005\u88ab\u89c6\u4e3a\u5b64\u7acb\u8bb0\u5f55\u3002</p>"},{"location":"concepts/#_3","title":"\u5c5e\u6027","text":"<p>\u5c5e\u6027\u662f\u9644\u52a0\u5230\u8ba2\u9605\u8005\u7535\u5b50\u90ae\u4ef6\u548c\u59d3\u540d\u4e4b\u5916\u7684\u4efb\u610f\u5c5e\u6027\u3002\u5b83\u4eec\u4ee5 JSON \u6620\u5c04\u7684\u5f62\u5f0f\u8868\u793a\u3002\u5e76\u975e\u6240\u6709\u8ba2\u9605\u8005\u90fd\u9700\u8981\u5177\u6709\u76f8\u540c\u7684\u5c5e\u6027\u3002\u53ef\u4ee5\u6839\u636e\u8ba2\u9605\u8005\u7684\u5c5e\u6027\u5bf9\u5176\u8fdb\u884c\u67e5\u8be2\u548c\u7ec6\u5206\u5230\u5217\u8868\u4e2d\uff0c\u5e76\u4e14\u8fd9\u4e9b\u5c5e\u6027\u53ef\u4ee5\u63d2\u5165\u5230\u53d1\u9001\u7ed9\u4ed6\u4eec\u7684\u7535\u5b50\u90ae\u4ef6\u4e2d\u3002\u4f8b\u5982\uff1a</p> <pre><code>{\n  \"city\": \"Bengaluru\",\n  \"likes_tea\": true,\n  \"spoken_languages\": [\"English\", \"Malayalam\"],\n  \"projects\": 3,\n  \"stack\": {\n    \"frameworks\": [\"echo\", \"go\"],\n    \"languages\": [\"go\", \"python\"],\n    \"preferred_language\": \"go\"\n  }\n}\n</code></pre>"},{"location":"concepts/#_4","title":"\u8ba2\u9605\u72b6\u6001","text":"<p>\u8ba2\u9605\u8005\u53ef\u4ee5\u88ab\u6dfb\u52a0\u5230\u4e00\u4e2a\u6216\u591a\u4e2a\u5217\u8868\u4e2d\uff0c\u6bcf\u4e2a\u8fd9\u6837\u7684\u5173\u7cfb\u90fd\u53ef\u4ee5\u5177\u6709\u4ee5\u4e0b\u72b6\u6001\u4e4b\u4e00\u3002</p> \u72b6\u6001 \u8bf4\u660e <code>unconfirmed</code> \u8ba2\u9605\u8005\u88ab\u76f4\u63a5\u6dfb\u52a0\u5230\u5217\u8868\u4e2d\uff0c\u6ca1\u6709\u7ecf\u8fc7\u4ed6\u4eec\u7684\u660e\u786e\u786e\u8ba4\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u8ba2\u9605\u8005\u4ecd\u5c06\u6536\u5230\u53d1\u9001\u5230\u5355\u6b21\u786e\u8ba4\u6d3b\u52a8\u7684\u6d3b\u52a8\u90ae\u4ef6\u3002 <code>confirmed</code> \u8ba2\u9605\u8005\u901a\u8fc7\u70b9\u51fb\u786e\u8ba4\u7535\u5b50\u90ae\u4ef6\u4e2d\u7684\"\u63a5\u53d7\"\u6765\u786e\u8ba4\u5176\u8ba2\u9605\u3002\u53ea\u6709\u786e\u8ba4\u5217\u8868\u4e2d\u7684\u5df2\u786e\u8ba4\u8ba2\u9605\u8005\u624d\u4f1a\u6536\u5230\u53d1\u9001\u5230\u8be5\u5217\u8868\u7684\u6d3b\u52a8\u90ae\u4ef6\u3002 <code>unsubscribed</code> \u8ba2\u9605\u8005\u5df2\u4ece\u5217\u8868\u4e2d\u53d6\u6d88\u8ba2\u9605\uff0c\u5c06\u4e0d\u4f1a\u6536\u5230\u53d1\u9001\u5230\u8be5\u5217\u8868\u7684\u4efb\u4f55\u6d3b\u52a8\u90ae\u4ef6\u3002"},{"location":"concepts/#_5","title":"\u7ec6\u5206","text":"<p>\u7ec6\u5206\u662f\u6839\u636e\u7279\u5b9a\u6761\u4ef6\u5c06\u8ba2\u9605\u8005\u7fa4\u4f53\u5206\u6210\u66f4\u5c0f\u3001\u66f4\u6709\u9488\u5bf9\u6027\u7684\u7ec4\u7684\u8fc7\u7a0b\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e3b\u8981\u57fa\u4e8e\u8ba2\u9605\u8005\u7684\u5c5e\u6027\u6570\u636e\uff0c\u4f7f\u60a8\u80fd\u591f\uff1a</p> <ol> <li>\u7cbe\u51c6\u8425\u9500\uff1a\u5411\u7279\u5b9a\u7fa4\u4f53\u53d1\u9001\u5b9a\u5236\u5316\u7684\u5185\u5bb9</li> <li>\u63d0\u9ad8\u53c2\u4e0e\u5ea6\uff1a\u901a\u8fc7\u53d1\u9001\u76f8\u5173\u5ea6\u66f4\u9ad8\u7684\u5185\u5bb9\u63d0\u9ad8\u90ae\u4ef6\u6253\u5f00\u7387\u548c\u70b9\u51fb\u7387</li> <li>\u4f18\u5316\u8d44\u6e90\uff1a\u907f\u514d\u5411\u4e0d\u76f8\u5173\u7684\u8ba2\u9605\u8005\u53d1\u9001\u90ae\u4ef6\uff0c\u8282\u7701\u8d44\u6e90</li> </ol>"},{"location":"concepts/#_6","title":"\u7ec6\u5206\u793a\u4f8b","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u7ec6\u5206\u573a\u666f\uff1a</p> <ol> <li>\u5730\u7406\u4f4d\u7f6e\u7ec6\u5206</li> <li>\u5411\u7279\u5b9a\u57ce\u5e02\u7684\u8ba2\u9605\u8005\u53d1\u9001\u672c\u5730\u6d3b\u52a8\u4fe1\u606f</li> <li> <p>\u6839\u636e\u4e0d\u540c\u65f6\u533a\u53d1\u9001\u4fc3\u9500\u6d3b\u52a8</p> </li> <li> <p>\u884c\u4e3a\u7ec6\u5206</p> </li> <li>\u5411\u6700\u8fd1\u8d2d\u4e70\u8fc7\u7684\u5ba2\u6237\u53d1\u9001\u76f8\u5173\u4ea7\u54c1\u63a8\u8350</li> <li> <p>\u5411\u957f\u671f\u672a\u4e92\u52a8\u7684\u8ba2\u9605\u8005\u53d1\u9001\u91cd\u65b0\u6fc0\u6d3b\u90ae\u4ef6</p> </li> <li> <p>\u4eba\u53e3\u7edf\u8ba1\u7ec6\u5206</p> </li> <li>\u6839\u636e\u5e74\u9f84\u3001\u6027\u522b\u7b49\u7279\u5f81\u53d1\u9001\u5b9a\u5236\u5316\u5185\u5bb9</li> <li> <p>\u9488\u5bf9\u4e0d\u540c\u804c\u4e1a\u7fa4\u4f53\u53d1\u9001\u76f8\u5173\u884c\u4e1a\u4fe1\u606f</p> </li> <li> <p>\u5174\u8da3\u7ec6\u5206</p> </li> <li>\u6839\u636e\u8ba2\u9605\u8005\u7684\u5174\u8da3\u6807\u7b7e\u53d1\u9001\u76f8\u5173\u5185\u5bb9</li> <li>\u57fa\u4e8e\u5386\u53f2\u4e92\u52a8\u6570\u636e\u63a8\u8350\u76f8\u4f3c\u5185\u5bb9</li> </ol>"},{"location":"concepts/#_7","title":"\u5982\u4f55\u4f7f\u7528\u7ec6\u5206","text":"<p>\u5728 stmails \u4e2d\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u4f7f\u7528\u7ec6\u5206\u529f\u80fd\uff1a</p> <ol> <li>\u4f7f\u7528\u67e5\u8be2\u8bed\u8a00\u6839\u636e\u5c5e\u6027\u521b\u5efa\u7ec6\u5206</li> <li>\u5c06\u7ec6\u5206\u7ed3\u679c\u4fdd\u5b58\u4e3a\u65b0\u7684\u5217\u8868</li> <li>\u5728\u53d1\u9001\u6d3b\u52a8\u65f6\u9009\u62e9\u7279\u5b9a\u7684\u7ec6\u5206\u5217\u8868</li> </ol> <p>\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u60f3\u5411\u5317\u4eac\u7684\u8ba2\u9605\u8005\u53d1\u9001\u672c\u5730\u6d3b\u52a8\u4fe1\u606f\uff0c\u53ef\u4ee5\u8fd9\u6837\u67e5\u8be2\uff1a <pre><code>city = '\u5317\u4eac'\n</code></pre></p> <p>\u6216\u8005\uff0c\u5982\u679c\u60a8\u60f3\u5411\u6700\u8fd130\u5929\u5185\u8d2d\u4e70\u8fc7\u7684\u5ba2\u6237\u53d1\u9001\u4fc3\u9500\u4fe1\u606f\uff1a <pre><code>last_purchase_date &gt; '2024-01-01'\n</code></pre></p> <p>\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u67e5\u8be2\u548c\u7ec6\u5206\u7684\u8be6\u7ec6\u4fe1\u606f</p>"},{"location":"concepts/#_8","title":"\u5217\u8868","text":"<p>\u5217\u8868\uff08\u6216\u90ae\u4ef6\u5217\u8868\uff09\u662f\u5728\u4e00\u4e2a\u540d\u79f0\u4e0b\u5206\u7ec4\u7684\u8ba2\u9605\u8005\u96c6\u5408\uff0c\u4f8b\u5982\u5ba2\u6237\u3002\u5217\u8868\u7528\u4e8e\u7ec4\u7ec7\u8ba2\u9605\u8005\u5e76\u5411\u7279\u5b9a\u7ec4\u53d1\u9001\u7535\u5b50\u90ae\u4ef6\u3002\u5217\u8868\u53ef\u4ee5\u662f\u5355\u6b21\u786e\u8ba4\u6216\u53cc\u91cd\u786e\u8ba4\u3002\u6dfb\u52a0\u5230\u53cc\u91cd\u786e\u8ba4\u5217\u8868\u7684\u8ba2\u9605\u8005\u5fc5\u987b\u901a\u8fc7\u70b9\u51fb\u4ed6\u4eec\u6536\u5230\u7684\u786e\u8ba4\u7535\u5b50\u90ae\u4ef6\u6765\u660e\u786e\u63a5\u53d7\u8ba2\u9605\u3002\u5728\u6b64\u4e4b\u524d\uff0c\u4ed6\u4eec\u4e0d\u4f1a\u6536\u5230\u6d3b\u52a8\u90ae\u4ef6\u3002</p>"},{"location":"concepts/#_9","title":"\u6d3b\u52a8","text":"<p>\u6d3b\u52a8\u662f\u53d1\u9001\u5230\u4e00\u4e2a\u6216\u591a\u4e2a\u5217\u8868\u7684\u7535\u5b50\u90ae\u4ef6\uff08\u6216\u4efb\u4f55\u5176\u4ed6\u7c7b\u578b\u7684\u6d88\u606f\uff09\u3002</p>"},{"location":"concepts/#_10","title":"\u4e8b\u52a1\u6027\u6d88\u606f","text":"<p>\u4e8b\u52a1\u6027\u6d88\u606f\u662f\u4f7f\u7528\u4e8b\u52a1\u6027\u6d88\u606f API \u53d1\u9001\u7ed9\u8ba2\u9605\u8005\u7684\u4efb\u610f\u6d88\u606f\u3002\u4f8b\u5982\uff0c\u6ce8\u518c\u670d\u52a1\u65f6\u7684\u6b22\u8fce\u7535\u5b50\u90ae\u4ef6\uff1b\u8d2d\u4e70\u5546\u54c1\u65f6\u7684\u8ba2\u5355\u786e\u8ba4\u7535\u5b50\u90ae\u4ef6\uff1b\u7528\u6237\u542f\u52a8\u5728\u7ebf\u8d26\u6237\u6062\u590d\u8fc7\u7a0b\u65f6\u7684\u5bc6\u7801\u91cd\u7f6e\u7535\u5b50\u90ae\u4ef6\u3002</p>"},{"location":"concepts/#_11","title":"\u6a21\u677f","text":"<p>\u6a21\u677f\u662f\u4e00\u79cd\u53ef\u91cd\u7528\u7684 HTML \u8bbe\u8ba1\uff0c\u53ef\u7528\u4e8e\u6d3b\u52a8\u548c\u53d1\u9001\u4efb\u610f\u4e8b\u52a1\u6027\u6d88\u606f\u3002\u6700\u5e38\u89c1\u7684\u662f\uff0c\u6a21\u677f\u5177\u6709\u6807\u51c6\u7684\u9875\u7709\u548c\u9875\u811a\u533a\u57df\uff0c\u5305\u542b\u5fbd\u6807\u548c\u54c1\u724c\u5143\u7d20\uff0c\u6d3b\u52a8\u5185\u5bb9\u63d2\u5165\u5728\u4e2d\u95f4\u3002stmails \u652f\u6301 Go \u6a21\u677f \u8868\u8fbe\u5f0f\uff0c\u8ba9\u60a8\u53ef\u4ee5\u521b\u5efa\u5f3a\u5927\u7684\u52a8\u6001 HTML \u6a21\u677f\u3002\u4e86\u89e3\u66f4\u591a\u3002</p>"},{"location":"concepts/#_12","title":"\u6d88\u606f\u53d1\u9001\u5668","text":"<p>\u9664\u4e86\u9ed8\u8ba4\u7684 SMTP \u7535\u5b50\u90ae\u4ef6\u540e\u7aef\u5916\uff0cstmails \u8fd8\u652f\u6301\u591a\u4e2a\u81ea\u5b9a\u4e49\u6d88\u606f\u53d1\u9001\u540e\u7aef\uff0c\u4e0d\u4ec5\u652f\u6301\u7535\u5b50\u90ae\u4ef6\u6d3b\u52a8\uff0c\u8fd8\u652f\u6301\u4efb\u610f\u6d88\u606f\u6d3b\u52a8\uff0c\u5982 SMS\u3001FCM \u901a\u77e5\u7b49\u3002\u6d88\u606f\u53d1\u9001\u5668\u662f\u4e00\u4e2a Web \u670d\u52a1\uff0c\u5b83\u63a5\u53d7\u4f5c\u4e3a JSON \u8bf7\u6c42\u63a8\u9001\u7684\u6d3b\u52a8\u6d88\u606f\uff0c\u8be5\u670d\u52a1\u53ef\u4ee5\u5c06\u5176\u4f5c\u4e3a SMS\u3001FCM \u7b49\u5e7f\u64ad\u3002\u4e86\u89e3\u66f4\u591a\u3002</p>"},{"location":"concepts/#_13","title":"\u8ddf\u8e2a\u50cf\u7d20","text":"<p>\u8ddf\u8e2a\u50cf\u7d20\u662f\u4e00\u4e2a\u5fae\u5c0f\u7684\u3001\u4e0d\u53ef\u89c1\u7684\u56fe\u50cf\uff0c\u63d2\u5165\u5230\u7535\u5b50\u90ae\u4ef6\u6b63\u6587\u4e2d\u4ee5\u8ddf\u8e2a\u7535\u5b50\u90ae\u4ef6\u67e5\u770b\u3002\u8fd9\u5141\u8bb8\u6d4b\u91cf\u7535\u5b50\u90ae\u4ef6\u7684\u9605\u8bfb\u7387\u3002\u867d\u7136\u8fd9\u5728\u7535\u5b50\u90ae\u4ef6\u6d3b\u52a8\u4e2d\u975e\u5e38\u5e38\u89c1\uff0c\u4f46\u5b83\u6d89\u53ca\u9690\u79c1\u95ee\u9898\uff0c\u5e94\u8be5\u9075\u5b88 GDPR \u7b49\u89c4\u5219\u548c\u6cd5\u89c4\u3002\u53ef\u4ee5\u533f\u540d\u8ddf\u8e2a\u9605\u8bfb\uff0c\u800c\u4e0d\u4f1a\u5c06\u7535\u5b50\u90ae\u4ef6\u9605\u8bfb\u4e0e\u8ba2\u9605\u8005\u5173\u8054\u8d77\u6765\u3002</p>"},{"location":"concepts/#_14","title":"\u70b9\u51fb\u8ddf\u8e2a","text":"<p>\u53ef\u4ee5\u8ddf\u8e2a\u7535\u5b50\u90ae\u4ef6\u4e2d\u53d1\u9001\u7684\u6bcf\u4e2a\u94fe\u63a5\u7684\u70b9\u51fb\u3002\u8fd9\u5141\u8bb8\u6d4b\u91cf\u7535\u5b50\u90ae\u4ef6\u4e2d\u94fe\u63a5\u7684\u70b9\u51fb\u7387\u3002\u867d\u7136\u8fd9\u5728\u7535\u5b50\u90ae\u4ef6\u6d3b\u52a8\u4e2d\u975e\u5e38\u5e38\u89c1\uff0c\u4f46\u5b83\u6d89\u53ca\u9690\u79c1\u95ee\u9898\uff0c\u5e94\u8be5\u9075\u5b88 GDPR \u7b49\u89c4\u5219\u548c\u6cd5\u89c4\u3002\u53ef\u4ee5\u533f\u540d\u8ddf\u8e2a\u94fe\u63a5\u70b9\u51fb\uff0c\u800c\u4e0d\u4f1a\u5c06\u7535\u5b50\u90ae\u4ef6\u9605\u8bfb\u4e0e\u8ba2\u9605\u8005\u5173\u8054\u8d77\u6765\u3002</p>"},{"location":"concepts/#_15","title":"\u9000\u4fe1","text":"<p>\u5f53\u53d1\u9001\u7ed9\u6536\u4ef6\u4eba\u7684\u7535\u5b50\u90ae\u4ef6\u56e0\u591a\u79cd\u539f\u56e0\u4e4b\u4e00\u800c\"\u9000\u56de\"\u65f6\uff0c\u5c31\u4f1a\u53d1\u751f\u9000\u4fe1\uff0c\u5305\u62ec\u6536\u4ef6\u4eba\u5730\u5740\u65e0\u6548\u3001\u4ed6\u4eec\u7684\u90ae\u7bb1\u5df2\u6ee1\uff0c\u6216\u6536\u4ef6\u4eba\u7684\u7535\u5b50\u90ae\u4ef6\u670d\u52a1\u63d0\u4f9b\u5546\u5c06\u7535\u5b50\u90ae\u4ef6\u6807\u8bb0\u4e3a\u5783\u573e\u90ae\u4ef6\u3002stmails \u53ef\u4ee5\u81ea\u52a8\u5904\u7406\u53d1\u9001\u5230\u914d\u7f6e\u7684 POP \u90ae\u7bb1\u7684\u9000\u4fe1\u7535\u5b50\u90ae\u4ef6\uff0c\u6216\u901a\u8fc7 AWS SES \u548c Sengrid \u7b49 SMTP \u7535\u5b50\u90ae\u4ef6\u63d0\u4f9b\u5546\u7684 API\u3002\u6839\u636e\u8bbe\u7f6e\uff0c\u8fd4\u56de\u9000\u4fe1\u7535\u5b50\u90ae\u4ef6\u7684\u8ba2\u9605\u8005\u53ef\u4ee5\u88ab\u81ea\u52a8\u52a0\u5165\u9ed1\u540d\u5355\u6216\u5220\u9664\u3002\u4e86\u89e3\u66f4\u591a\u3002</p>"},{"location":"configuration/","title":"\u914d\u7f6e","text":""},{"location":"configuration/#toml","title":"TOML \u914d\u7f6e\u6587\u4ef6","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u591a\u6b21\u4f20\u9012 <code>--config config.toml</code> \u6765\u8bfb\u53d6\u4e00\u4e2a\u6216\u591a\u4e2a TOML \u6587\u4ef6\u3002\u9664\u4e86\u5c11\u6570\u4f4e\u7ea7\u914d\u7f6e\u53d8\u91cf\u548c\u6570\u636e\u5e93\u914d\u7f6e\u5916\uff0c\u6240\u6709\u5176\u4ed6\u8bbe\u7f6e\u90fd\u53ef\u4ee5\u4ece\u7ba1\u7406\u754c\u9762\u7684 <code>\u8bbe\u7f6e</code> \u4eea\u8868\u677f\u4e2d\u7ba1\u7406\u3002</p> <p>\u8981\u751f\u6210\u65b0\u7684\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\uff0c\u8bf7\u8fd0\u884c <code>--stmails --new-config</code></p>"},{"location":"configuration/#_2","title":"\u73af\u5883\u53d8\u91cf","text":"<p>config.toml \u4e2d\u7684\u53d8\u91cf\u4e5f\u53ef\u4ee5\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u63d0\u4f9b\uff0c\u73af\u5883\u53d8\u91cf\u4ee5 <code>stmails_</code> \u4e3a\u524d\u7f00\uff0c\u70b9\u53f7\u66ff\u6362\u4e3a <code>__</code>\uff08\u53cc\u4e0b\u5212\u7ebf\uff09\u3002\u8981\u4ec5\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u800c\u4e0d\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u542f\u52a8 stmails\uff0c\u8bf7\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u5e76\u5c06\u914d\u7f6e\u6807\u5fd7\u4f20\u9012\u4e3a <code>--config=\"\"</code>\u3002</p> <p>\u793a\u4f8b\uff1a</p> \u73af\u5883\u53d8\u91cf \u793a\u4f8b\u503c <code>stmails_app__address</code> \"0.0.0.0:9000\" <code>stmails_db__host</code> db <code>stmails_db__port</code> 9432 <code>stmails_db__user</code> stmails <code>stmails_db__password</code> stmails <code>stmails_db__database</code> stmails <code>stmails_db__ssl_mode</code> disable"},{"location":"configuration/#_3","title":"\u81ea\u5b9a\u4e49\u7cfb\u7edf\u6a21\u677f","text":"<p>\u8bf7\u53c2\u9605\u7cfb\u7edf\u6a21\u677f\u3002</p>"},{"location":"configuration/#http","title":"HTTP \u8def\u7531","text":"<p>\u5728\u914d\u7f6e\u8eab\u4efd\u9a8c\u8bc1\u4ee3\u7406\u548c Web \u5e94\u7528\u7a0b\u5e8f\u9632\u706b\u5899\u65f6\uff0c\u8bf7\u4f7f\u7528\u6b64\u8868\u3002</p>"},{"location":"configuration/#_4","title":"\u79c1\u6709\u7ba1\u7406\u7aef\u70b9\u3002","text":"\u65b9\u6cd5 \u8def\u7531 \u8bf4\u660e <code>*</code> <code>/api/*</code> \u7ba1\u7406 API <code>GET</code> <code>/admin/*</code> \u7ba1\u7406\u754c\u9762\u548c HTML \u9875\u9762 <code>POST</code> <code>/webhooks/bounce</code> \u7ba1\u7406\u9000\u4fe1 webhook"},{"location":"configuration/#_5","title":"\u66b4\u9732\u7ed9\u4e92\u8054\u7f51\u7684\u516c\u5171\u7aef\u70b9\u3002","text":"\u65b9\u6cd5 \u8def\u7531 \u8bf4\u660e <code>GET, POST</code> <code>/subscription/*</code> HTML \u8ba2\u9605\u9875\u9762 <code>GET,</code> <code>/link/*</code> \u8ddf\u8e2a\u94fe\u63a5\u91cd\u5b9a\u5411 <code>GET</code> <code>/campaign/*</code> \u50cf\u7d20\u8ddf\u8e2a\u56fe\u50cf <code>GET</code> <code>/public/*</code> HTML \u8ba2\u9605\u9875\u9762\u7684\u9759\u6001\u6587\u4ef6 <code>POST</code> <code>/webhooks/service/*</code> AWS \u548c Sendgrid \u7684\u9000\u4fe1 webhook \u7aef\u70b9 <code>GET</code> <code>/uploads/*</code> \u5a92\u4f53\u8bbe\u7f6e\u4e2d\u914d\u7f6e\u7684\u6587\u4ef6\u4e0a\u4f20\u8def\u5f84"},{"location":"configuration/#_6","title":"\u5a92\u4f53\u4e0a\u4f20","text":""},{"location":"configuration/#_7","title":"\u4f7f\u7528\u6587\u4ef6\u7cfb\u7edf","text":"<p>\u5728\u914d\u7f6e <code>docker</code> \u5377\u6302\u8f7d\u4ee5\u4f7f\u7528\u6587\u4ef6\u7cfb\u7edf\u5a92\u4f53\u4e0a\u4f20\u65f6\uff0c\u60a8\u53ef\u4ee5\u91c7\u7528\u4ee5\u4e0b\u4e24\u79cd\u65b9\u6cd5\u4e4b\u4e00\u3002\u5982\u679c\u60a8\u9700\u8981\u4f7f\u7528 <code>sudo</code> \u6267\u884c docker \u547d\u4ee4\uff0c\u7b2c\u4e8c\u79cd\u9009\u9879\u53ef\u80fd\u662f\u5fc5\u8981\u7684\u3002</p> <p>\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u540e\uff0c\u60a8\u9700\u8981\u8fd0\u884c <code>sudo docker compose stop ; sudo docker compose up</code>\u3002</p> <p>\u5728 <code>https://stmails.mysite.com/admin/settings</code> \u4e0b\uff0c\u60a8\u8f93\u5165 <code>/stmails/uploads</code>\u3002</p>"},{"location":"configuration/#_8","title":"\u4f7f\u7528\u5377","text":"<p>\u4f7f\u7528 <code>docker volumes</code>\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u5377\u7684\u540d\u79f0\u548c\u5bb9\u5668\u5185\u8981\u4e0a\u4f20\u7684\u6587\u4ef6\u7684\u76ee\u6807\u4f4d\u7f6e\u3002</p> <pre><code>app:\n    volumes:\n      - type: volume\n        source: stmails-uploads\n        target: /stmails/uploads\n\nvolumes:\n  stmails-uploads:\n</code></pre> <p>\u6ce8\u610f</p> <p>\u6b64\u5377\u7531 <code>docker</code> \u672c\u8eab\u7ba1\u7406\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>docker volume inspect stmails_stmails-uploads</code> \u67e5\u770b\u4e3b\u673a\u8def\u5f84\u3002</p>"},{"location":"configuration/#_9","title":"\u4f7f\u7528\u7ed1\u5b9a\u6302\u8f7d","text":"<p><pre><code>  app:\n    volumes:\n      - ./path/on/your/host/:/path/inside/container\n</code></pre> \u4f8b\u5982\uff1a <pre><code>  app:\n    volumes:\n      - ./data/uploads:/stmails/uploads\n</code></pre> \u6587\u4ef6\u5c06\u5728\u4e3b\u673a\u4e0a\u7684 <code>/data/uploads</code> \u76ee\u5f55\u4e2d\u53ef\u7528\u3002</p> <p>\u8981\u4f7f\u7528\u9ed8\u8ba4\u7684 <code>uploads</code> \u6587\u4ef6\u5939\uff1a <pre><code>  app:\n    volumes:\n      - ./uploads:/stmails/uploads\n</code></pre></p>"},{"location":"configuration/#_10","title":"\u65e5\u5fd7","text":""},{"location":"configuration/#docker","title":"Docker","text":"<p>https://docs.docker.com/engine/reference/commandline/logs/ <pre><code>sudo docker logs -f\nsudo docker logs stmails_app -t\nsudo docker logs stmails_db -t\nsudo docker logs --help\n</code></pre> \u5bb9\u5668\u4fe1\u606f\uff1a<code>sudo docker inspect stmails_stmails</code></p> <p>Docker \u5c06\u65e5\u5fd7\u8f93\u51fa\u5230 <code>/dev/stdout</code> \u548c <code>/dev/stderr</code>\u3002\u65e5\u5fd7\u7531 docker \u5b88\u62a4\u8fdb\u7a0b\u6536\u96c6\u5e76\u5b58\u50a8\u5728\u60a8\u8282\u70b9\u7684\u4e3b\u673a\u8def\u5f84\u4e2d\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff09\u3002\u53ef\u4ee5\u5728 docker \u5b88\u62a4\u8fdb\u7a0b\u8bbe\u7f6e\u4e2d\u914d\u7f6e\u76f8\u540c\u7684\u8bbe\u7f6e\uff08/etc/docker/daemon.json\uff09\u4ee5\u8bbe\u7f6e\u5176\u4ed6\u65e5\u5fd7\u9a71\u52a8\u7a0b\u5e8f\u3001logrotate \u7b56\u7565\u7b49\uff0c\u60a8\u53ef\u4ee5\u5728\u6b64\u5904\u9605\u8bfb\u66f4\u591a\u4fe1\u606f\u3002</p>"},{"location":"configuration/#_11","title":"\u4e8c\u8fdb\u5236","text":"<p>stmails \u5c06\u65e5\u5fd7\u8f93\u51fa\u5230 <code>stdout</code>\uff0c\u901a\u5e38\u4e0d\u4f1a\u4fdd\u5b58\u5230\u4efb\u4f55\u6587\u4ef6\u4e2d\u3002\u8981\u5c06 stmails \u65e5\u5fd7\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\uff0c\u8bf7\u4f7f\u7528 <code>./stmails &gt; stmails.log</code>\u3002</p> <p>\u7ba1\u7406\u754c\u9762\u4e2d\u7684\u8bbe\u7f6e -&gt; \u65e5\u5fd7\u663e\u793a\u6807\u51c6\u65e5\u5fd7\u8f93\u51fa\u7684\u6700\u540e 1000 \u884c\uff0c\u4f46\u5728 stmails \u91cd\u542f\u65f6\u4f1a\u88ab\u6e05\u9664\u3002</p> <p>\u5bf9\u4e8e\u670d\u52a1\u6587\u4ef6\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>ExecStart=/bin/bash -ce \"exec /usr/bin/stmails --config /etc/stmails/config.toml --static-dir /etc/stmails/static &gt;&gt;/etc/stmails/stmails.log 2&gt;&amp;1\"</code> \u521b\u5efa\u4e00\u4e2a\u5728\u91cd\u542f\u540e\u4ecd\u7136\u5b58\u5728\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\u66f4\u591a\u4fe1\u606f\u3002</p>"},{"location":"configuration/#_12","title":"\u65f6\u533a","text":"<p>\u8981\u66f4\u6539 stmails \u7684\u65f6\u533a\uff08\u65e5\u5fd7\u7b49\uff09\uff0c\u8bf7\u7f16\u8f91 <code>docker-compose.yml</code>\uff1a <pre><code>environment:\n    - TZ=Etc/UTC\n</code></pre> \u4f7f\u7528\u6b64\u5904\u5217\u51fa\u7684\u4efb\u4f55\u65f6\u533a\u3002\u7136\u540e\u8fd0\u884c <code>sudo docker-compose stop ; sudo docker-compose up</code>\u3002</p>"},{"location":"configuration/#smtp","title":"SMTP","text":""},{"location":"configuration/#_13","title":"\u91cd\u8bd5","text":"<p><code>\u8bbe\u7f6e -&gt; SMTP -&gt; \u91cd\u8bd5</code> \u8868\u793a\u5728\u53d1\u9001\u65f6\u5931\u8d25\u7684\u6d88\u606f\u4f7f\u7528 SMTP \u6c60\u4e2d\u7684\u4e0d\u540c\u8fde\u63a5\u9759\u9ed8\u91cd\u8bd5\u7684\u6b21\u6570\u3002\u5373\u4f7f\u5728\u91cd\u8bd5\u540e\u4ecd\u7136\u5931\u8d25\u7684\u6d88\u606f\u4f1a\u88ab\u8bb0\u5f55\u4e3a\u9519\u8bef\u5e76\u88ab\u5ffd\u7565\u3002</p>"},{"location":"configuration/#smtp_1","title":"SMTP \u7aef\u53e3","text":"<p>\u67d0\u4e9b\u670d\u52a1\u5668\u4e3b\u673a\u4f1a\u963b\u6b62\u51fa\u7ad9 SMTP \u7aef\u53e3\uff0825\u3001465\uff09\u3002\u60a8\u53ef\u80fd\u9700\u8981\u8054\u7cfb\u60a8\u7684\u4e3b\u673a\u4ee5\u89e3\u9664\u963b\u6b62\uff0c\u7136\u540e\u624d\u80fd\u53d1\u9001\u7535\u5b50\u90ae\u4ef6\u3002\u4f8b\u5982\uff1aHetzner\u3002</p>"},{"location":"configuration/#_14","title":"\u6027\u80fd","text":""},{"location":"configuration/#_15","title":"\u6279\u5904\u7406\u5927\u5c0f","text":"<p>\u6279\u5904\u7406\u5927\u5c0f\u53c2\u6570\u5728\u5904\u7406\u5177\u6709\u6570\u767e\u4e07\u8ba2\u9605\u8005\u7684\u975e\u5e38\u5927\u7684\u5217\u8868\u65f6\u975e\u5e38\u6709\u7528\uff0c\u53ef\u4ee5\u6700\u5927\u5316\u541e\u5410\u91cf\u3002\u5b83\u662f\u5728\u6d3b\u52a8\u8fd0\u884c\u65f6\u4ece\u6570\u636e\u5e93\u4e2d\u987a\u5e8f\u83b7\u53d6\u7684\u8ba2\u9605\u8005\u6570\u91cf\uff08\u7ea6 5 \u79d2\u4e00\u4e2a\u5468\u671f\uff09\u3002\u589e\u52a0\u6279\u5904\u7406\u5927\u5c0f\u4f1a\u4f7f\u7528\u66f4\u591a\u5185\u5b58\uff0c\u4f46\u4f1a\u51cf\u5c11\u5230\u6570\u636e\u5e93\u7684\u5f80\u8fd4\u6b21\u6570\u3002</p>"},{"location":"developer-setup/","title":"\u5f00\u53d1\u8005\u8bbe\u7f6e","text":"<p>\u8be5\u5e94\u7528\u7a0b\u5e8f\u6709\u4e24\u4e2a\u4e0d\u540c\u7684\u7ec4\u4ef6\uff1aGo \u540e\u7aef\u548c VueJS \u524d\u7aef\u3002\u5728\u5f00\u53d1\u73af\u5883\u4e2d\uff0c\u4e24\u8005\u662f\u72ec\u7acb\u8fd0\u884c\u7684\u3002</p>"},{"location":"developer-setup/#_2","title":"\u524d\u63d0\u6761\u4ef6","text":"<ul> <li><code>go</code></li> <li><code>nodejs</code>\uff08\u5982\u679c\u60a8\u6b63\u5728\u5f00\u53d1\u524d\u7aef\uff09\u548c <code>yarn</code></li> <li>PostgreSQL \u6570\u636e\u5e93\u3002\u5982\u679c\u6ca1\u6709\u672c\u5730\u5b89\u88c5\uff0c\u53ef\u4ee5\u4f7f\u7528\u6f14\u793a docker \u6570\u636e\u5e93\u8fdb\u884c\u5f00\u53d1\uff08<code>docker compose up demo-db</code>\uff09</li> </ul>"},{"location":"developer-setup/#_3","title":"\u9996\u6b21\u8bbe\u7f6e","text":"<p><code>git clone https://github.com/knadh/stmails.git</code>\u3002\u8be5\u9879\u76ee\u4f7f\u7528 go.mod\uff0c\u6240\u4ee5\u6700\u597d\u5728 Go src \u8def\u5f84\u4e4b\u5916\u514b\u9686\u5b83\u3002</p> <ol> <li>\u5c06 <code>config.toml.sample</code> \u590d\u5236\u4e3a <code>config.toml</code> \u5e76\u6dfb\u52a0\u60a8\u7684\u914d\u7f6e\u3002</li> <li>\u8fd0\u884c <code>make dist</code> \u6784\u5efa stmails \u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u6784\u5efa\u5b8c\u6210\u540e\uff0c\u8fd0\u884c <code>./stmails --install</code> \u8fdb\u884c\u6570\u636e\u5e93\u8bbe\u7f6e\u3002\u5bf9\u4e8e\u540e\u7eed\u7684\u5f00\u53d1\u8fd0\u884c\uff0c\u4f7f\u7528 <code>make run</code>\u3002</li> </ol> <p>mailhog \u662f\u4e00\u4e2a\u4f18\u79c0\u7684\u72ec\u7acb\u6a21\u62df SMTP \u670d\u52a1\u5668\uff08\u5e26 UI\uff09\uff0c\u7528\u4e8e\u6d4b\u8bd5\u548c\u5f00\u53d1\u3002</p>"},{"location":"developer-setup/#_4","title":"\u8fd0\u884c\u5f00\u53d1\u73af\u5883","text":"<p>\u60a8\u53ef\u4ee5\u5728\u672c\u5730\u6216\u5bb9\u5668\u5185\u8fd0\u884c\u5f00\u53d1\u73af\u5883\u3002</p> <p>\u8bbe\u7f6e\u5f00\u53d1\u73af\u5883\u540e\uff0c\u60a8\u53ef\u4ee5\u8bbf\u95ee <code>http://localhost:8080</code>\u3002</p> <ol> <li>\u672c\u5730\u8fd0\u884c</li> <li>\u8fd0\u884c <code>make run</code> \u5728 <code>:9000</code> \u7aef\u53e3\u542f\u52a8 stmails \u5f00\u53d1\u670d\u52a1\u5668\u3002</li> <li> <p>\u8fd0\u884c <code>make run-frontend</code> \u4f7f\u7528 yarn \u5728 <code>:8080</code> \u7aef\u53e3\u4ee5\u5f00\u53d1\u6a21\u5f0f\u542f\u52a8 Vue \u524d\u7aef\u3002\u6240\u6709 <code>/api/*</code> \u8c03\u7528\u90fd\u88ab\u4ee3\u7406\u5230\u8fd0\u884c\u5728 <code>:9000</code> \u7aef\u53e3\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u6709\u5173\u524d\u7aef\u7ed3\u6784\u7684\u6982\u8ff0\uff0c\u8bf7\u53c2\u9605\u524d\u7aef README\u3002</p> </li> <li> <p>\u5bb9\u5668\u5185\u8fd0\u884c\uff08\u4f7f\u7528 Makefile\uff09</p> </li> <li>\u8fd0\u884c <code>make init-dev-docker</code> \u8bbe\u7f6e\u6570\u636e\u5e93\u5bb9\u5668\u3002</li> <li>\u8fd0\u884c <code>make dev-docker</code> \u8bbe\u7f6e docker \u5bb9\u5668\u5957\u4ef6\u3002</li> <li> <p>\u8fd0\u884c <code>make rm-dev-docker</code> \u6e05\u7406 docker \u5bb9\u5668\u5957\u4ef6\u3002</p> </li> <li> <p>\u5bb9\u5668\u5185\u8fd0\u884c\uff08\u4f7f\u7528 devcontainer\uff09</p> </li> <li>\u5728 vscode \u4e2d\u6253\u5f00\u4ed3\u5e93\uff0c\u6253\u5f00\u547d\u4ee4\u9762\u677f\uff0c\u9009\u62e9\"Dev Containers: Rebuild and Reopen in Container\"\u3002</li> </ol> <p>\u5b83\u5c06\u8bbe\u7f6e\u6570\u636e\u5e93\uff0c\u5e76\u4e3a\u60a8\u542f\u52a8\u524d\u7aef/\u540e\u7aef\u3002</p>"},{"location":"developer-setup/#_5","title":"\u751f\u4ea7\u6784\u5efa","text":"<p>\u8fd0\u884c <code>make dist</code> \u6784\u5efa Go \u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u6784\u5efa Javascript \u524d\u7aef\uff0c\u5e76\u5d4c\u5165\u9759\u6001\u8d44\u6e90\uff0c\u751f\u6210\u4e00\u4e2a\u72ec\u7acb\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 <code>stmails</code>\u3002</p>"},{"location":"external-integration/","title":"\u4e0e\u5916\u90e8\u7cfb\u7edf\u96c6\u6210","text":"<p>\u5728\u8bb8\u591a\u73af\u5883\u4e2d\uff0c\u90ae\u4ef6\u5217\u8868\u7ba1\u7406\u5668\u7684\u8ba2\u9605\u8005\u6570\u636e\u5e93\u5e76\u4e0d\u662f\u72ec\u7acb\u8fd0\u884c\u7684\uff0c\u800c\u662f\u4f5c\u4e3a\u73b0\u6709\u5ba2\u6237\u6570\u636e\u5e93\u6216 CRM \u7cfb\u7edf\u7684\u4e00\u90e8\u5206\u3002\u6709\u591a\u79cd\u65b9\u6cd5\u53ef\u4ee5\u4fdd\u6301 stmails \u4e0e\u5916\u90e8\u7cfb\u7edf\u7684\u540c\u6b65\u3002</p>"},{"location":"external-integration/#api","title":"\u4f7f\u7528 API","text":"<p>\u8ba2\u9605\u8005 API \u63d0\u4f9b\u4e86\u591a\u4e2a\u7528\u4e8e\u64cd\u4f5c\u8ba2\u9605\u8005\u6570\u636e\u5e93\u7684 API\uff0c\u5982\u6dfb\u52a0\u3001\u66f4\u65b0\u548c\u5220\u9664\u3002\u5bf9\u4e8e\u6279\u91cf\u540c\u6b65\uff0c\u53ef\u4ee5\u751f\u6210 CSV \u6587\u4ef6\uff08\u53ef\u9009\u62e9\u538b\u7f29\uff09\u5e76\u901a\u8fc7\u5bfc\u5165 API \u63d0\u4ea4\u3002</p>"},{"location":"i18n/","title":"\u56fd\u9645\u5316 (i18n)","text":"<p>\u611f\u8c22\u5fd7\u613f\u8005\u8d21\u732e\u7684\u8bed\u8a00\u5305\uff0cstmails \u652f\u6301\u591a\u79cd\u8bed\u8a00\u3002\u8bed\u8a00\u5305\u662f\u4e00\u4e2a\u5305\u542b\u952e\u503c\u5bf9\u6620\u5c04\u7684 JSON \u6587\u4ef6\uff0c\u6bcf\u4e2a\u952e\u5bf9\u5e94\u76f8\u5e94\u7684\u7ffb\u8bd1\u6587\u672c\u3002\u5185\u7f6e\u7684\u8bed\u8a00\u5305\u53ef\u4ee5\u5728 \u8fd9\u91cc\u67e5\u770b\u3002</p>"},{"location":"i18n/#_1","title":"\u989d\u5916\u7684\u8bed\u8a00\u5305","text":"<p>\u8fd9\u4e9b\u989d\u5916\u7684\u8bed\u8a00\u5305\u53ef\u4ee5\u4e0b\u8f7d\u5e76\u901a\u8fc7 <code>--i18n-dir</code> \u53c2\u6570\u4f20\u9012\u7ed9 stmails\uff0c\u5177\u4f53\u65b9\u6cd5\u5c06\u5728\u4e0b\u4e00\u8282\u4e2d\u8bf4\u660e\u3002</p> \u8bed\u8a00 \u8bf4\u660e \u5fb7\u8bed (\u6b63\u5f0f) \u4f7f\u7528\u6b63\u5f0f\u79f0\u8c13\u7684\u5fb7\u8bed\u7248\u672c"},{"location":"i18n/#_2","title":"\u81ea\u5b9a\u4e49\u8bed\u8a00","text":"<p>\u8981\u81ea\u5b9a\u4e49\u73b0\u6709\u8bed\u8a00\u6216\u52a0\u8f7d\u65b0\u8bed\u8a00\uff0c\u8bf7\u5c06\u4e00\u4e2a\u6216\u591a\u4e2a <code>.json</code> \u8bed\u8a00\u6587\u4ef6\u653e\u5728\u76ee\u5f55\u4e2d\uff0c\u7136\u540e\u4f7f\u7528 <code>--i18n-dir=/path/to/dir</code> \u53c2\u6570\u5c06\u8be5\u76ee\u5f55\u8def\u5f84\u4f20\u9012\u7ed9 stmails\u3002</p>"},{"location":"i18n/#_3","title":"\u8d21\u732e\u65b0\u8bed\u8a00","text":""},{"location":"i18n/#_4","title":"\u4f7f\u7528\u57fa\u7840\u7f16\u8f91\u5668","text":"<ul> <li>\u8bbf\u95ee https://app.stmails.cn/i18n</li> <li>\u70b9\u51fb <code>\u521b\u5efa\u65b0\u8bed\u8a00</code>\uff0c\u6216\u8005\u8981\u4fee\u6539\u73b0\u6709\u8bed\u8a00\uff0c\u4f7f\u7528 <code>\u52a0\u8f7d\u8bed\u8a00</code></li> <li>\u5728\u754c\u9762\u7684\u6587\u672c\u6846\u4e2d\u7ffb\u8bd1\u6587\u672c</li> <li>\u5b8c\u6210\u540e\uff0c\u4f7f\u7528 <code>\u4e0b\u8f7d\u539f\u59cb JSON</code> \u4e0b\u8f7d\u8bed\u8a00\u6587\u4ef6</li> <li>\u53d1\u9001\u62c9\u53d6\u8bf7\u6c42\u5c06\u6587\u4ef6\u6dfb\u52a0\u5230 GitHub \u4ed3\u5e93\u7684 i18n \u76ee\u5f55</li> </ul>"},{"location":"i18n/#inlang","title":"\u4f7f\u7528 InLang\uff08\u5916\u90e8\u670d\u52a1\uff09","text":"<ul> <li>\u8bbf\u95ee https://inlang.com/editor/github.com/knadh/stmails</li> <li>\u8981\u8fdb\u884c\u66f4\u6539\u5e76\u63a8\u9001\uff0c\u60a8\u9700\u8981\u4f7f\u7528 OAuth \u767b\u5f55 GitHub \u5e76\u4ece\u754c\u9762\u4e2d fork \u9879\u76ee</li> <li>\u5728\u754c\u9762\u7684\u8f93\u5165\u5b57\u6bb5\u4e2d\u7ffb\u8bd1\u6587\u672c\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u8fc7\u6ee4\u5668\u53ea\u67e5\u770b\u5fc5\u8981\u7684\u7ffb\u8bd1</li> <li>\u5b8c\u6210\u540e\uff0c\u4ece\u754c\u9762\u63a8\u9001\u66f4\u6539\u5e76\u70b9\u51fb\"\u521b\u5efa\u62c9\u53d6\u8bf7\u6c42\"\u3002\u8fd9\u5c06\u5e26\u60a8\u5230 GitHub\uff0c\u60a8\u53ef\u4ee5\u5728\u90a3\u91cc\u7f16\u5199 PR \u4fe1\u606f</li> </ul>"},{"location":"installation/","title":"\u5b89\u88c5","text":"<p>stmails \u662f\u4e00\u4e2a\u7b80\u5355\u7684\u4e8c\u8fdb\u5236\u5e94\u7528\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u624b\u52a8\u4e0b\u8f7d\u5e76\u8fd0\u884c\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002</p>"},{"location":"installation/#_2","title":"\u4e8c\u8fdb\u5236\u5b89\u88c5","text":"<ol> <li>\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u5e76\u89e3\u538b stmails \u4e8c\u8fdb\u5236\u6587\u4ef6\u3002<code>amd64</code> \u662f\u4e3b\u8981\u7248\u672c\uff0c\u9002\u7528\u4e8e Intel \u548c x86 CPU\u3002</li> <li>\u91cd\u8981\uff1a \u5728 config.toml \u6587\u4ef6\u4e2d\u8bbe\u7f6e\u60a8\u7684\u8bb8\u53ef\u8bc1\u5bc6\u94a5\u3002\u8fd9\u662f\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\u7684\u5fc5\u8981\u6b65\u9aa4\u3002    <pre><code>[app]\nlicense_key = \"\u60a8\u7684\u8bb8\u53ef\u8bc1\u5bc6\u94a5\"\n</code></pre></li> <li>\u8fd0\u884c <code>./stmails</code> \u5e76\u8bbf\u95ee <code>http://localhost:9000</code> \u521b\u5efa\u8d85\u7ea7\u7ba1\u7406\u5458\u7528\u6237\u5e76\u767b\u5f55\u3002</li> </ol>"},{"location":"messengers/","title":"\u6d88\u606f\u53d1\u9001\u5668","text":"<p>\u9664\u4e86\u9ed8\u8ba4\u7684 SMTP \u7535\u5b50\u90ae\u4ef6\u540e\u7aef\u5916\uff0cstmails \u8fd8\u652f\u6301\u591a\u4e2a\u81ea\u5b9a\u4e49\u6d88\u606f\u53d1\u9001\u540e\u7aef\uff0c\u4e0d\u4ec5\u652f\u6301\u7535\u5b50\u90ae\u4ef6\u6d3b\u52a8\uff0c\u8fd8\u652f\u6301\u4efb\u610f\u6d88\u606f\u6d3b\u52a8\uff0c\u5982 SMS\u3001FCM \u901a\u77e5\u7b49\u3002</p> <p>\u6d88\u606f\u53d1\u9001\u5668\u662f\u4e00\u4e2a Web \u670d\u52a1\uff0c\u5b83\u63a5\u53d7\u4f5c\u4e3a JSON \u8bf7\u6c42\u63a8\u9001\u7684\u6d3b\u52a8\u6d88\u606f\uff0c\u8be5\u670d\u52a1\u53ef\u4ee5\u5c06\u5176\u4f5c\u4e3a SMS\u3001FCM \u7b49\u5e7f\u64ad\u3002\u6d88\u606f\u53d1\u9001\u5668\u5728\u8bbe\u7f6e -&gt; \u6d88\u606f\u53d1\u9001\u5668 UI \u4e2d\u6ce8\u518c\uff0c\u53ef\u4ee5\u5728\u5404\u4e2a\u6d3b\u52a8\u4e2d\u9009\u62e9\u3002</p> <p>\u6d88\u606f\u53d1\u9001\u5668\u652f\u6301\u53ef\u9009\u7684 BasicAuth \u8eab\u4efd\u9a8c\u8bc1\u3002\u5bf9\u4e8e SMS \u548c FCM \u7b49\u6d88\u606f\u53d1\u9001\u5668\uff0c\u6d3b\u52a8\u5185\u5bb9\u7684<code>\u7eaf\u6587\u672c</code>\u683c\u5f0f\u662f\u7406\u60f3\u7684\u9009\u62e9\u3002</p> <p>\u5f53\u6d3b\u52a8\u5f00\u59cb\u65f6\uff0cstmails \u4f1a\u4ee5\u4ee5\u4e0b\u683c\u5f0f\u5411\u9009\u5b9a\u7684\u6d88\u606f\u53d1\u9001\u5668\u7aef\u70b9\u53d1\u9001 POST \u8bf7\u6c42\u3002\u5982\u679c\u8bf7\u6c42\u6210\u529f\uff0c\u7aef\u70b9\u5e94\u8fd4\u56de <code>200 OK</code> \u54cd\u5e94\u3002</p> <p>\u5e7f\u64ad\u6d88\u606f\u6240\u9700\u7684\u5730\u5740\uff0c\u4f8b\u5982\u7535\u8bdd\u53f7\u7801\u6216 FCM ID\uff0c\u5e94\u8be5\u4f5c\u4e3a\u8ba2\u9605\u8005\u5c5e\u6027\u5b58\u50a8\u548c\u4f20\u9012\u3002</p> <pre><code>{\n    \"subject\": \"Welcome to stmails\",\n    \"body\": \"The message body\",\n    \"content_type\": \"plain\",\n    \"recipients\": [{\n        \"uuid\": \"e44b4135-1e1d-40c5-8a30-0f9a886c2884\",\n        \"email\": \"anon@example.com\",\n        \"name\": \"Anon Doe\",\n        \"attribs\": {\n            \"phone\": \"123123123\",\n            \"fcm_id\": \"2e7e4b512e7e4b512e7e4b51\",\n            \"city\": \"Bengaluru\"\n        },\n        \"status\": \"enabled\"\n    }],\n    \"campaign\": {\n        \"uuid\": \"2e7e4b51-f31b-418a-a120-e41800cb689f\",\n        \"name\": \"Test campaign\",\n        \"tags\": [\"test-campaign\"]\n    }\n}\n</code></pre>"},{"location":"querying-and-segmentation/","title":"\u67e5\u8be2\u548c\u7ec6\u5206\u8ba2\u9605\u8005","text":"<p>stmails \u5141\u8bb8\u7f16\u5199\u90e8\u5206\u8868\u8fbe\u5f0f\u6765\u67e5\u8be2\u3001\u8fc7\u6ee4\u548c\u7ec6\u5206\u8ba2\u9605\u8005\u3002</p>"},{"location":"querying-and-segmentation/#_2","title":"\u8ba2\u9605\u8005\u5b57\u6bb5","text":"<p>\u4ee5\u4e0b\u662f\u8ba2\u9605\u8005\u53ef\u67e5\u8be2\u7684\u5b57\u6bb5\u3002</p> \u5b57\u6bb5 \u8bf4\u660e <code>subscribers.uuid</code> \u8ba2\u9605\u8005\u7684\u968f\u673a\u751f\u6210\u552f\u4e00 ID <code>subscribers.email</code> \u8ba2\u9605\u8005\u7684\u7535\u5b50\u90ae\u4ef6 ID <code>subscribers.name</code> \u8ba2\u9605\u8005\u7684\u59d3\u540d <code>subscribers.status</code> \u8ba2\u9605\u8005\u7684\u72b6\u6001\uff08\u542f\u7528\u3001\u7981\u7528\u3001\u9ed1\u540d\u5355\uff09 <code>subscribers.attribs</code> \u4ee5 JSON \u8868\u793a\u7684\u4efb\u610f\u5c5e\u6027\u6620\u5c04\u3002\u901a\u8fc7<code>-&gt;</code> \u548c <code>-&gt;&gt;</code> \u8fd0\u7b97\u7b26\u8bbf\u95ee\u3002 <code>subscribers.created_at</code> \u8ba2\u9605\u8005\u9996\u6b21\u6dfb\u52a0\u65f6\u7684\u65f6\u95f4\u6233 <code>subscribers.updated_at</code> \u8ba2\u9605\u8005\u88ab\u4fee\u6539\u65f6\u7684\u65f6\u95f4\u6233"},{"location":"querying-and-segmentation/#_3","title":"\u793a\u4f8b\u5c5e\u6027","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u865a\u6784\u8ba2\u9605\u8005\u7684\u5c5e\u6027 JSON \u6620\u5c04\u793a\u4f8b\u3002</p> <pre><code>{\n  \"city\": \"Bengaluru\",\n  \"likes_tea\": true,\n  \"spoken_languages\": [\"English\", \"Malayalam\"],\n  \"projects\": 3,\n  \"stack\": {\n    \"frameworks\": [\"echo\", \"go\"],\n    \"languages\": [\"go\", \"python\"],\n    \"preferred_language\": \"go\"\n  }\n}\n</code></pre> <p></p>"},{"location":"querying-and-segmentation/#_4","title":"\u67e5\u8be2\u8868\u8fbe\u5f0f\u793a\u4f8b","text":""},{"location":"querying-and-segmentation/#_5","title":"\u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u67e5\u627e\u8ba2\u9605\u8005","text":"<pre><code>-- \u7cbe\u786e\u5339\u914d\nsubscribers.email = 'some@domain.com'\n\n-- \u90e8\u5206\u5339\u914d\uff0c\u67e5\u627e\u4ee5 @domain.com \u7ed3\u5c3e\u7684\u7535\u5b50\u90ae\u4ef6\nsubscribers.email LIKE '%@domain.com'\n</code></pre>"},{"location":"querying-and-segmentation/#_6","title":"\u901a\u8fc7\u59d3\u540d\u67e5\u627e\u8ba2\u9605\u8005","text":"<pre><code>-- \u67e5\u627e\u6240\u6709\u540d\u5b57\u4ee5 John \u5f00\u5934\u7684\u8ba2\u9605\u8005\nsubscribers.email LIKE 'John%'\n</code></pre>"},{"location":"querying-and-segmentation/#_7","title":"\u591a\u4e2a\u6761\u4ef6","text":"<pre><code>-- \u67e5\u627e\u6240\u6709\u88ab\u52a0\u5165\u9ed1\u540d\u5355\u7684 John\nsubscribers.email LIKE 'John%' AND status = 'blocklisted'\n</code></pre>"},{"location":"querying-and-segmentation/#_8","title":"\u67e5\u8be2\u67e5\u770b\u4e86\u6d3b\u52a8\u90ae\u4ef6\u7684\u8ba2\u9605\u8005","text":"<pre><code>-- \u67e5\u627e\u6240\u6709\u67e5\u770b\u4e86\u6d3b\u52a8\u90ae\u4ef6\u7684\u8ba2\u9605\u8005\nEXISTS(SELECT 1 FROM campaign_views WHERE campaign_views.subscriber_id=subscribers.id AND campaign_views.campaign_id=&lt;put_id_of_campaign&gt;)\n</code></pre>"},{"location":"querying-and-segmentation/#_9","title":"\u67e5\u8be2\u5c5e\u6027","text":"<pre><code>-- -&gt;&gt; \u8fd0\u7b97\u7b26\u8fd4\u56de\u6587\u672c\u503c\u3002\u67e5\u627e\u6240\u6709\u5c45\u4f4f\u5728 Bengaluru \u4e14\u5b8c\u6210\u8d85\u8fc7 3 \u4e2a\u9879\u76ee\u7684\u8ba2\u9605\u8005\n-- \u8fd9\u91cc\u5c06 'projects' \u8f6c\u6362\u4e3a\u6574\u6570\uff0c\u4ee5\u4fbf\u6211\u4eec\u53ef\u4ee5\u5e94\u7528\u6570\u503c\u8fd0\u7b97\u7b26 &gt;\nsubscribers.attribs-&gt;&gt;'city' = 'Bengaluru' AND\n    (subscribers.attribs-&gt;&gt;'projects')::INT &gt; 3\n</code></pre>"},{"location":"querying-and-segmentation/#_10","title":"\u67e5\u8be2\u5d4c\u5957\u5c5e\u6027","text":"<pre><code>-- \u67e5\u627e\u6240\u6709\u88ab\u52a0\u5165\u9ed1\u540d\u5355\u3001\u559c\u6b22\u559d\u8336\u3001\u4f1a\u7f16\u5199 Python \u4ee3\u7801\u4e14\u504f\u597d Go \u7f16\u7a0b\u7684\u8ba2\u9605\u8005\n--\n-- -&gt; \u8fd0\u7b97\u7b26\u8fd4\u56de\u7ed3\u6784\u503c\u3002\u8fd9\u91cc\uff0c\"languages\" \u5b57\u6bb5\n-- ? \u8fd0\u7b97\u7b26\u68c0\u67e5\u5217\u8868\u4e2d\u662f\u5426\u5b58\u5728\u67d0\u4e2a\u503c\nsubscribers.status = 'blocklisted' AND\n    (subscribers.attribs-&gt;&gt;'likes_tea')::BOOLEAN = true AND\n    subscribers.attribs-&gt;'stack'-&gt;'languages' ? 'python' AND\n    subscribers.attribs-&gt;'stack'-&gt;&gt;'preferred_language' = 'go'\n</code></pre>"},{"location":"roles-and-permissions/","title":"\u89d2\u8272\u548c\u6743\u9650","text":"<p>stmails\uff08&gt;= v4.0.0\uff09\u652f\u6301\u521b\u5efa\u5177\u6709\u5404\u79cd\u529f\u80fd\u7ec6\u7c92\u5ea6\u6743\u9650\u7684\u7cfb\u7edf\u7528\u6237\uff0c\u5305\u62ec\u7279\u5b9a\u5217\u8868\u7684\u6743\u9650\u3002\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u7528\u6237\u540d\u548c\u5bc6\u7801\u767b\u5f55\uff0c\u6216\u8005\u5982\u679c\u8fde\u63a5\u4e86\u8eab\u4efd\u9a8c\u8bc1\u63d0\u4f9b\u7a0b\u5e8f\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7 OIDC\uff08OpenID Connect\uff09\u63e1\u624b\u767b\u5f55\u3002\u5404\u79cd\u6743\u9650\u53ef\u4ee5\u5206\u7ec4\u4e3a\"\u7528\u6237\u89d2\u8272\"\uff0c\u8fd9\u4e9b\u89d2\u8272\u53ef\u4ee5\u5206\u914d\u7ed9\u7528\u6237\u3002\u7279\u5b9a\u5217\u8868\u7684\u6743\u9650\u53ef\u4ee5\u5206\u7ec4\u4e3a\"\u5217\u8868\u89d2\u8272\"\u3002</p>"},{"location":"roles-and-permissions/#_2","title":"\u7528\u6237\u89d2\u8272","text":"<p>\u7528\u6237\u89d2\u8272\u662f\u7528\u6237\u76f8\u5173\u6743\u9650\u7684\u96c6\u5408\u3002\u7528\u6237\u89d2\u8272\u9644\u52a0\u5230\u7528\u6237\u8d26\u6237\u3002\u7528\u6237\u89d2\u8272\u53ef\u4ee5\u5728 <code>\u7ba1\u7406 -&gt; \u7528\u6237 -&gt; \u7528\u6237\u89d2\u8272</code> \u4e2d\u7ba1\u7406\u3002\u6743\u9650\u8bf4\u660e\u5982\u4e0b\u3002</p> \u7ec4 \u6743\u9650 \u8bf4\u660e lists lists:get_all \u83b7\u53d6\u6240\u6709\u5217\u8868\u7684\u8be6\u7ec6\u4fe1\u606f lists:manage_all \u521b\u5efa\u3001\u66f4\u65b0\u548c\u5220\u9664\u6240\u6709\u5217\u8868 subscribers subscribers:get \u83b7\u53d6\u5355\u4e2a\u8ba2\u9605\u8005\u8be6\u7ec6\u4fe1\u606f subscribers:get_all \u83b7\u53d6\u6240\u6709\u8ba2\u9605\u8005\u53ca\u5176\u8be6\u7ec6\u4fe1\u606f subscribers:manage \u6dfb\u52a0\u3001\u66f4\u65b0\u548c\u5220\u9664\u8ba2\u9605\u8005 subscribers:import \u4ece\u5916\u90e8\u6587\u4ef6\u5bfc\u5165\u8ba2\u9605\u8005 subscribers:sql_query \u5bf9\u8ba2\u9605\u8005\u6570\u636e\u8fd0\u884c SQL \u67e5\u8be2\u3002\u8b66\u544a\uff1a \u6b64\u6743\u9650\u5c06\u5141\u8bb8\u4f7f\u7528 SQL \u8868\u8fbe\u5f0f\u76f4\u63a5\u4ece\u6570\u636e\u5e93\u67e5\u8be2\u6240\u6709\u5217\u8868\u548c\u8ba2\u9605\u8005\uff0c\u4f18\u5148\u4e8e\u4e0a\u8ff0\u5355\u4e2a\u5217\u8868\u548c\u8ba2\u9605\u8005\u6743\u9650\u3002 tx:send \u5411\u8ba2\u9605\u8005\u53d1\u9001\u4e8b\u52a1\u6027\u6d88\u606f campaigns campaigns:get \u83b7\u53d6\u6d3b\u52a8\u8be6\u7ec6\u4fe1\u606f campaigns:get_analytics \u8bbf\u95ee\u6d3b\u52a8\u6027\u80fd\u6307\u6807 campaigns:manage \u521b\u5efa\u3001\u66f4\u65b0\u548c\u5220\u9664\u6d3b\u52a8 bounces bounces:get \u83b7\u53d6\u7535\u5b50\u90ae\u4ef6\u9000\u4fe1\u8bb0\u5f55 bounces:manage \u5904\u7406\u9000\u4fe1\u7535\u5b50\u90ae\u4ef6 webhooks:post_bounce \u901a\u8fc7 webhook \u63a5\u6536\u9000\u4fe1\u901a\u77e5 media media:get \u83b7\u53d6\u4e0a\u4f20\u7684\u5a92\u4f53\u6587\u4ef6 media:manage \u4e0a\u4f20\u3001\u66f4\u65b0\u548c\u5220\u9664\u5a92\u4f53 templates templates:get \u83b7\u53d6\u7535\u5b50\u90ae\u4ef6\u6a21\u677f templates:manage \u521b\u5efa\u3001\u66f4\u65b0\u548c\u5220\u9664\u6a21\u677f users users:get \u83b7\u53d6\u7cfb\u7edf\u7528\u6237\u8d26\u6237 users:manage \u521b\u5efa\u3001\u66f4\u65b0\u548c\u5220\u9664\u7528\u6237\u8d26\u6237 roles:get \u83b7\u53d6\u7528\u6237\u89d2\u8272\u548c\u6743\u9650 roles:manage \u521b\u5efa\u548c\u4fee\u6539\u7528\u6237\u89d2\u8272 settings settings:get \u83b7\u53d6\u7cfb\u7edf\u8bbe\u7f6e settings:manage \u4fee\u6539\u7cfb\u7edf\u914d\u7f6e settings:maintain \u6267\u884c\u7cfb\u7edf\u7ef4\u62a4\u4efb\u52a1"},{"location":"roles-and-permissions/#_3","title":"\u5217\u8868\u89d2\u8272","text":"<p>\u5217\u8868\u89d2\u8272\u662f\u6bcf\u4e2a\u5217\u8868\u5206\u914d\u7684\u6743\u9650\u96c6\u5408\u3002\u6bcf\u4e2a\u5217\u8868\u53ef\u4ee5\u88ab\u5206\u914d\u67e5\u770b\uff08\u8bfb\u53d6\uff09\u6216\u7ba1\u7406\uff08\u66f4\u65b0\uff09\u6743\u9650\u3002\u5217\u8868\u89d2\u8272\u9644\u52a0\u5230\u7528\u6237\u8d26\u6237\u3002\u7528\u6237\u53ea\u80fd\u8bbf\u95ee\u5728\u5217\u8868\u89d2\u8272\u4e2d\u5b9a\u4e49\u7684\u5217\u8868\uff0c\u65e0\u8bba\u662f\u5728\u7ba1\u7406\u754c\u9762\u8fd8\u662f\u901a\u8fc7 API \u8c03\u7528\u3002\u8bf7\u6ce8\u610f\uff0c\u7528\u6237\u89d2\u8272\u4e2d\u7684 <code>lists:get_all</code> \u548c <code>lists:manage_all</code> \u6743\u9650\u4f1a\u8986\u76d6\u6240\u6709\u6bcf\u4e2a\u5217\u8868\u7684\u6743\u9650\u3002</p>"},{"location":"roles-and-permissions/#api","title":"API \u7528\u6237","text":"<p>\u7528\u6237\u8d26\u6237\u53ef\u4ee5\u662f\u4e24\u79cd\u7c7b\u578b\u4e4b\u4e00\uff1a\u666e\u901a\u7528\u6237\u6216 API \u7528\u6237\u3002API \u7528\u6237\u7528\u4e8e\u4ee5\u7f16\u7a0b\u65b9\u5f0f\u4e0e stmails API \u4ea4\u4e92\u3002\u4e0e\u5177\u6709\u81ea\u5b9a\u4e49\u5bc6\u7801\u6216 OIDC \u8eab\u4efd\u9a8c\u8bc1\u7684\u666e\u901a\u7528\u6237\u8d26\u6237\u4e0d\u540c\uff0cAPI \u7528\u6237\u4f1a\u83b7\u5f97\u81ea\u52a8\u751f\u6210\u7684\u5bc6\u94a5\u4ee4\u724c\u3002</p>"},{"location":"templating/","title":"\u6a21\u677f","text":"<p>\u6a21\u677f\u662f\u4e00\u79cd\u53ef\u91cd\u7528\u7684 HTML \u8bbe\u8ba1\uff0c\u53ef\u7528\u4e8e\u6d3b\u52a8\u548c\u4e8b\u52a1\u6027\u6d88\u606f\u3002\u6700\u5e38\u89c1\u7684\u662f\uff0c\u6a21\u677f\u5177\u6709\u6807\u51c6\u7684\u9875\u7709\u548c\u9875\u811a\u533a\u57df\uff0c\u5305\u542b\u5fbd\u6807\u548c\u54c1\u724c\u5143\u7d20\uff0c\u6d3b\u52a8\u5185\u5bb9\u63d2\u5165\u5728\u4e2d\u95f4\u3002stmails \u652f\u6301 Go \u6a21\u677f \u8868\u8fbe\u5f0f\uff0c\u8ba9\u60a8\u53ef\u4ee5\u521b\u5efa\u5f3a\u5927\u7684\u52a8\u6001 HTML \u6a21\u677f\u3002\u5b83\u8fd8\u96c6\u6210\u4e86 100 \u591a\u4e2a\u6709\u7528\u7684 Sprig \u6a21\u677f\u51fd\u6570\u3002</p>"},{"location":"templating/#_2","title":"\u6d3b\u52a8\u6a21\u677f","text":"<p>\u6d3b\u52a8\u6a21\u677f\u7528\u4e8e\u7535\u5b50\u90ae\u4ef6\u6d3b\u52a8\u3002\u8fd9\u4e9b\u6a21\u677f\u5728 UI \u7684 <code>\u6d3b\u52a8 -&gt; \u6a21\u677f</code> \u4e0b\u521b\u5efa\u548c\u7ba1\u7406\uff0c\u5e76\u5728\u521b\u5efa\u65b0\u6d3b\u52a8\u65f6\u9009\u62e9\u3002</p>"},{"location":"templating/#_3","title":"\u4e8b\u52a1\u6027\u6a21\u677f","text":"<p>\u4e8b\u52a1\u6027\u6a21\u677f\u7528\u4e8e\u4f7f\u7528\u4e8b\u52a1\u6027 API \u53d1\u9001\u4efb\u610f\u4e8b\u52a1\u6027\u6d88\u606f\u3002\u8fd9\u4e9b\u6a21\u677f\u5728 UI \u7684 <code>\u6d3b\u52a8 -&gt; \u6a21\u677f</code> \u4e0b\u521b\u5efa\u548c\u7ba1\u7406\u3002</p>"},{"location":"templating/#_4","title":"\u6a21\u677f\u8868\u8fbe\u5f0f","text":"<p>\u5728\u6d3b\u52a8\u548c\u6a21\u677f\u6b63\u6587\u4e2d\u53ef\u4ee5\u4f7f\u7528\u591a\u4e2a\u6a21\u677f\u51fd\u6570\u548c\u8868\u8fbe\u5f0f\u3002\u5b83\u4eec\u4ee5 <code>{{ .Subscriber.Email }}</code> \u7684\u5f62\u5f0f\u7f16\u5199\uff0c\u5373\u5728\u53cc\u5927\u62ec\u53f7 <code>{{</code> \u548c <code>}}</code> \u4e4b\u95f4\u7684\u8868\u8fbe\u5f0f\u3002</p>"},{"location":"templating/#_5","title":"\u8ba2\u9605\u8005\u5b57\u6bb5","text":"\u8868\u8fbe\u5f0f \u8bf4\u660e <code>{{ .Subscriber.UUID }}</code> \u8ba2\u9605\u8005\u968f\u673a\u751f\u6210\u7684\u552f\u4e00 ID <code>{{ .Subscriber.Email }}</code> \u8ba2\u9605\u8005\u7684\u7535\u5b50\u90ae\u4ef6 ID <code>{{ .Subscriber.Name }}</code> \u8ba2\u9605\u8005\u7684\u59d3\u540d <code>{{ .Subscriber.FirstName }}</code> \u8ba2\u9605\u8005\u7684\u540d\u5b57\uff08\u81ea\u52a8\u4ece\u59d3\u540d\u4e2d\u63d0\u53d6\uff09 <code>{{ .Subscriber.LastName }}</code> \u8ba2\u9605\u8005\u7684\u59d3\u6c0f\uff08\u81ea\u52a8\u4ece\u59d3\u540d\u4e2d\u63d0\u53d6\uff09 <code>{{ .Subscriber.Status }}</code> \u8ba2\u9605\u8005\u7684\u72b6\u6001\uff08\u542f\u7528\u3001\u7981\u7528\u3001\u52a0\u5165\u9ed1\u540d\u5355\uff09 <code>{{ .Subscriber.Attribs }}</code> \u4efb\u610f\u5c5e\u6027\u7684\u6620\u5c04\u3002\u53ef\u4ee5\u4f7f\u7528 <code>.</code> \u8bbf\u95ee\u5b57\u6bb5\uff0c\u4f8b\u5982\uff1a<code>.Subscriber.Attribs.city</code> <code>{{ .Subscriber.CreatedAt }}</code> \u8ba2\u9605\u8005\u9996\u6b21\u6dfb\u52a0\u65f6\u7684\u65f6\u95f4\u6233 <code>{{ .Subscriber.UpdatedAt }}</code> \u8ba2\u9605\u8005\u4fee\u6539\u65f6\u7684\u65f6\u95f4\u6233 \u8868\u8fbe\u5f0f \u8bf4\u660e <code>{{ .Campaign.UUID }}</code> \u6d3b\u52a8\u968f\u673a\u751f\u6210\u7684\u552f\u4e00 ID <code>{{ .Campaign.Name }}</code> \u6d3b\u52a8\u7684\u5185\u90e8\u540d\u79f0 <code>{{ .Campaign.Subject }}</code> \u6d3b\u52a8\u7684\u7535\u5b50\u90ae\u4ef6\u4e3b\u9898 <code>{{ .Campaign.FromEmail }}</code> \u53d1\u9001\u6d3b\u52a8\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740"},{"location":"templating/#_6","title":"\u51fd\u6570","text":"\u51fd\u6570 \u8bf4\u660e <code>{{ Date \"2006-01-01\" }}</code> \u4ee5 Go \u65e5\u671f\u5e03\u5c40 \u6253\u5370\u5f53\u524d\u65e5\u671f\u65f6\u95f4 <code>{{ TrackLink \"https://link.com\" }}</code> \u83b7\u53d6 URL \u5e76\u751f\u6210\u8ddf\u8e2a URL\u3002\u7528\u4e8e\u6d3b\u52a8\u6b63\u6587\u548c\u6a21\u677f\u3002 <code>https://link.com@TrackLink</code> <code>TrackLink</code> \u7684\u7b80\u5199\u3002\u4f8b\u5982\uff1a<code>&lt;a href=\"https://link.com@TrackLink\"&gt;\u94fe\u63a5&lt;/a&gt;</code> <code>{{ TrackView }}</code> \u63d2\u5165\u5355\u4e2a\u8ddf\u8e2a\u50cf\u7d20\u3002\u5e94\u8be5\u53ea\u4f7f\u7528\u4e00\u6b21\uff0c\u6700\u597d\u5728\u6a21\u677f\u9875\u811a\u4e2d\u3002 <code>{{ UnsubscribeURL }}</code> \u9000\u8ba2\u548c\u7ba1\u7406\u9996\u9009\u9879 URL\u3002\u9002\u5408\u5728\u6a21\u677f\u9875\u811a\u4e2d\u4f7f\u7528\u3002 <code>{{ MessageURL }}</code> \u67e5\u770b\u7535\u5b50\u90ae\u4ef6\u6d88\u606f\u6258\u7ba1\u7248\u672c\u7684 URL\u3002 <code>{{ OptinURL }}</code> \u53cc\u91cd\u786e\u8ba4\u9875\u9762\u7684 URL\u3002 <code>{{ Safe \"&lt;!-- comment --&gt;\" }}</code> \u6309\u539f\u6837\u6dfb\u52a0\u4efb\u4f55 HTML \u4ee3\u7801\u3002"},{"location":"templating/#sprig","title":"Sprig \u51fd\u6570","text":"<p>stmails \u96c6\u6210\u4e86 Sprig \u5e93\uff0c\u63d0\u4f9b\u4e86 100 \u591a\u4e2a\u7528\u4e8e\u5904\u7406\u5b57\u7b26\u4e32\u3001\u6570\u5b57\u3001\u65e5\u671f\u7b49\u7684\u5b9e\u7528\u51fd\u6570\uff0c\u53ef\u7528\u4e8e\u6a21\u677f\u4e2d\u3002\u6709\u5173\u5b8c\u6574\u51fd\u6570\u5217\u8868\uff0c\u8bf7\u53c2\u9605 Sprig \u6587\u6863\u3002</p>"},{"location":"templating/#_7","title":"\u793a\u4f8b\u6a21\u677f","text":"<p>\u8868\u8fbe\u5f0f <code>{{ template \"content\" . }}</code> \u5e94\u8be5\u5728\u6bcf\u4e2a\u6a21\u677f\u4e2d\u53ea\u51fa\u73b0\u4e00\u6b21\uff0c\u8868\u793a\u63d2\u5165\u7535\u5b50\u90ae\u4ef6\u5185\u5bb9\u7684\u4f4d\u7f6e\u3002\u8fd9\u662f\u4e00\u4e2a\u793a\u4f8b HTML \u7535\u5b50\u90ae\u4ef6\uff0c\u5177\u6709\u56fa\u5b9a\u7684\u9875\u7709\u548c\u9875\u811a\uff0c\u5185\u5bb9\u63d2\u5165\u5728\u4e2d\u95f4\u3002</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;style&gt;\n      body {\n        background: #eee;\n        font-family: Arial, sans-serif;\n        font-size: 6px;\n        color: #111;\n      }\n      header {\n        border-bottom: 1px solid #ddd;\n        padding-bottom: 30px;\n        margin-bottom: 30px;\n      }\n      .container {\n        background: #fff;\n        width: 450px;\n        margin: 0 auto;\n        padding: 30px;\n      }\n    &lt;/style&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;section class=\"container\"&gt;\n      &lt;header&gt;\n        &lt;!-- \u8fd9\u5c06\u51fa\u73b0\u5728\u6240\u6709\u7535\u5b50\u90ae\u4ef6\u7684\u9875\u7709\u4e2d\u3002\n             \u8ba2\u9605\u8005\u7684\u540d\u5b57\u5c06\u81ea\u52a8\u63d2\u5165\u8fd9\u91cc\u3002 //--&gt;\n        Hi {{ .Subscriber.FirstName }}!\n      &lt;/header&gt;\n\n      &lt;!-- \u8fd9\u662f\u63d2\u5165\u7535\u5b50\u90ae\u4ef6\u6b63\u6587\u7684\u4f4d\u7f6e //--&gt;\n      &lt;div class=\"content\"&gt;\n        {{ template \"content\" . }}\n      &lt;/div&gt;\n\n      &lt;footer&gt;\n        Copyright 2019. All rights Reserved.\n      &lt;/footer&gt;\n\n      &lt;!-- \u8ddf\u8e2a\u50cf\u7d20\u5c06\u63d2\u5165\u8fd9\u91cc //--&gt;\n      {{ TrackView }}\n    &lt;/section&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u4fe1\u606f</p> <p>\u5bf9\u4e8e\u7eaf\u6587\u672c\u6d3b\u52a8\uff0c\u521b\u5efa\u4e00\u4e2a\u6ca1\u6709 HTML \u5185\u5bb9\u7684\u6a21\u677f\uff0c\u53ea\u5305\u542b\u5360\u4f4d\u7b26 <code>{{ template \"content\" . }}</code></p>"},{"location":"templating/#_8","title":"\u793a\u4f8b\u6d3b\u52a8\u6b63\u6587","text":"<p>\u6d3b\u52a8\u6b63\u6587\u53ef\u4ee5\u4f7f\u7528\u5185\u7f6e\u7684 WYSIWYG \u7f16\u8f91\u5668\u6216\u539f\u59cb HTML \u6587\u6863\u7f16\u5199\u3002\u5047\u8bbe\u8ba2\u9605\u8005\u6709\u4e00\u7ec4\u5b9a\u4e49\u7684\u5c5e\u6027\uff0c\u6b64\u793a\u4f8b\u663e\u793a\u5982\u4f55\u5728\u6d3b\u52a8\u4e2d\u6e32\u67d3\u8fd9\u4e9b\u503c\u3002</p> <pre><code>\u563f\uff0c\u4f60\u6ce8\u610f\u5230\u6a21\u677f\u5982\u4f55\u663e\u793a\u4f60\u7684\u540d\u5b57\u4e86\u5417\uff1f\n\u4f60\u7684\u59d3\u6c0f\u662f {{.Subscriber.LastName }}\u3002\n\n\u4f60\u5df2\u7ecf\u5b8c\u6210\u4e86 {{ .Subscriber.Attribs.projects }} \u4e2a\u9879\u76ee\u3002\n\n\n{{ if eq .Subscriber.Attribs.city \"Bengaluru\" }}\n  \u4f60\u4f4f\u5728\u73ed\u52a0\u7f57\u5c14\uff01\n{{ else }}\n  \u4f60\u4f4f\u5728\u54ea\u91cc\uff1f\n{{ end }}\n\n\n\u8fd9\u662f\u4e00\u4e2a\u4f60\u53ef\u4ee5\u70b9\u51fb\u7684\u94fe\u63a5\uff0c\u5b83\u5c06\u88ab\u8ddf\u8e2a\u3002\n&lt;a href=\"{{ TrackLink \"https://google.com\" }}\"&gt;Google&lt;/a&gt;\n</code></pre> <p>\u4e0a\u9762\u7684\u793a\u4f8b\u4f7f\u7528 <code>if</code> \u6761\u4ef6\u6839\u636e\u8ba2\u9605\u8005\u5c5e\u6027\u7684\u503c\u663e\u793a\u4e24\u6761\u6d88\u606f\u4e4b\u4e00\u3002\u4f7f\u7528 Go \u6a21\u677f\u8868\u8fbe\u5f0f\u53ef\u4ee5\u5b9e\u73b0\u8bb8\u591a\u8fd9\u6837\u7684\u52a8\u6001\u8868\u8fbe\u5f0f\u3002</p>"},{"location":"templating/#_9","title":"\u7cfb\u7edf\u6a21\u677f","text":"<p>\u7cfb\u7edf\u6a21\u677f\u7528\u4e8e\u6e32\u67d3\u9762\u5411\u7528\u6237\u7684\u516c\u5171\u9875\u9762\uff0c\u5982\u8ba2\u9605\u7ba1\u7406\u9875\u9762\uff0c\u4ee5\u53ca\u81ea\u52a8\u751f\u6210\u7684\u7cfb\u7edf\u7535\u5b50\u90ae\u4ef6\uff0c\u5982\u786e\u8ba4\u8ba2\u9605\u7684\u7535\u5b50\u90ae\u4ef6\u3002\u8fd9\u4e9b\u90fd\u6346\u7ed1\u5728 stmails \u4e2d\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u5728\u672c\u5730\u590d\u5236\u9759\u6001\u76ee\u5f55\u5e76\u4f7f\u7528 <code>./stmails --static-dir=your/custom/path</code> \u6807\u5fd7\u5c06\u5176\u8def\u5f84\u4f20\u9012\u7ed9 stmails \u6765\u81ea\u5b9a\u4e49\u3002</p>"},{"location":"templating/#_10","title":"\u516c\u5171\u9875\u9762","text":"/static/public/ <code>index.html</code> \u6240\u6709\u9875\u9762\u4f7f\u7528\u7684\u57fa\u672c\u6a21\u677f\uff0c\u5305\u542b\u9875\u7709\u548c\u9875\u811a\u3002 <code>home.html</code> \u6839\u57df\u540d\u4e0a\u7684\u767b\u5f55\u9875\u9762\uff0c\u5e26\u6709\u767b\u5f55\u6309\u94ae\u3002 <code>message.html</code> \u901a\u7528\u6210\u529f/\u5931\u8d25\u6d88\u606f\u9875\u9762\u3002 <code>optin.html</code> \u786e\u8ba4\u8ba2\u9605\u9875\u9762\u3002 <code>subscription.html</code> \u8ba2\u9605\u7ba1\u7406\u9875\u9762\uff0c\u5305\u542b\u6570\u636e\u5bfc\u51fa\u548c\u5220\u9664\u9009\u9879\u3002 <code>subscription-form.html</code> \u5217\u8868\u9009\u62e9\u548c\u8ba2\u9605\u8868\u5355\u9875\u9762\u3002 <p>\u8981\u4f7f\u7528 CSS \u548c Javascript \u7f16\u8f91\u516c\u5171\u9875\u9762\u7684\u5916\u89c2\uff0c\u8bf7\u8f6c\u5230\u8bbe\u7f6e &gt; \u5916\u89c2 &gt; \u516c\u5171\uff1a</p> <p></p>"},{"location":"templating/#_11","title":"\u7cfb\u7edf\u7535\u5b50\u90ae\u4ef6","text":"/static/email-templates/ <code>base.html</code> \u6240\u6709\u7cfb\u7edf\u751f\u6210\u7684\u7535\u5b50\u90ae\u4ef6\u4f7f\u7528\u7684\u57fa\u672c\u6a21\u677f\uff0c\u5305\u542b\u9875\u7709\u548c\u9875\u811a\u3002 <code>campaign-status.html</code> \u5728\u6d3b\u52a8\u5f00\u59cb\u3001\u5b8c\u6210\u7b49\u65f6\u53d1\u9001\u7ed9\u7ba1\u7406\u5458\u7684\u7535\u5b50\u90ae\u4ef6\u901a\u77e5\u3002 <code>import-status.html</code> \u5728\u5bfc\u5165\u4f5c\u4e1a\u5b8c\u6210\u65f6\u53d1\u9001\u7ed9\u7ba1\u7406\u5458\u7684\u7535\u5b50\u90ae\u4ef6\u901a\u77e5\u3002 <code>subscriber-data.html</code> \u5f53\u8ba2\u9605\u8005\u8bf7\u6c42\u5176\u79c1\u4eba\u6570\u636e\u7684\u5b8c\u6574\u8f6c\u50a8\u65f6\u53d1\u9001\u7684\u7535\u5b50\u90ae\u4ef6\u3002 <code>subscriber-optin.html</code> \u5f53\u672a\u786e\u8ba4\u7684\u8ba2\u9605\u8005\u88ab\u6dfb\u52a0\u65f6\u53d1\u9001\u7684\u81ea\u52a8\u786e\u8ba4\u8ba2\u9605\u7535\u5b50\u90ae\u4ef6\u3002 <code>subscriber-optin-campaign.html</code> \u4ece\u5217\u8868\u9875\u9762\u542f\u52a8\u786e\u8ba4\u8ba2\u9605\u6d3b\u52a8\u65f6\u63d2\u5165\u5230\u6d3b\u52a8\u6b63\u6587\u4e2d\u7684\u7535\u5b50\u90ae\u4ef6\u5185\u5bb9\u3002 <code>default.tpl</code> \u9996\u6b21\u5b89\u88c5 stmails \u65f6\u5728\u6d3b\u52a8 -&gt; \u6a21\u677f\u4e2d\u521b\u5efa\u7684\u9ed8\u8ba4\u6d3b\u52a8\u6a21\u677f\u3002\u4e4b\u540e\u4e0d\u518d\u4f7f\u7528\u3002 <p>\u4fe1\u606f</p> <p>\u8981\u5c06\u7cfb\u7edf\u7535\u5b50\u90ae\u4ef6\u6a21\u677f\u8f6c\u6362\u4e3a\u7eaf\u6587\u672c\uff0c\u8bf7\u4ece base.html \u4e2d\u5220\u9664 <code>&lt;!doctype html&gt;</code>\uff0c\u5e76\u4ece\u6a21\u677f\u4e2d\u5220\u9664\u6240\u6709 HTML \u6807\u7b7e\uff0c\u540c\u65f6\u4fdd\u7559 Go \u6a21\u677f\u4ee3\u7801\u3002</p>"},{"location":"upgrade/","title":"\u5347\u7ea7","text":"<p>\u8b66\u544a</p> <p>\u5728\u5347\u7ea7 stmails \u4e4b\u524d\uff0c\u8bf7\u59cb\u7ec8\u5907\u4efd PostgreSQL \u6570\u636e\u5e93</p>"},{"location":"upgrade/#_2","title":"\u4e8c\u8fdb\u5236\u5b89\u88c5","text":"<ul> <li>\u505c\u6b62\u6b63\u5728\u8fd0\u884c\u7684 stmails \u5b9e\u4f8b\u3002</li> <li>\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u5e76\u89e3\u538b stmails \u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u8986\u76d6\u4e4b\u524d\u7684\u7248\u672c\u3002</li> <li>\u8fd0\u884c <code>./stmails --upgrade</code> \u5347\u7ea7\u73b0\u6709\u6570\u636e\u5e93\u67b6\u6784\u3002\u5347\u7ea7\u662f\u5e42\u7b49\u7684\uff0c\u591a\u6b21\u8fd0\u884c\u4e0d\u4f1a\u6709\u526f\u4f5c\u7528\u3002</li> <li>\u518d\u6b21\u8fd0\u884c <code>./stmails</code>\u3002</li> </ul> <p>\u5982\u679c\u60a8\u5c06 stmails \u5b89\u88c5\u4e3a\u670d\u52a1\uff0c\u60a8\u9700\u8981\u5728\u8986\u76d6\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e4b\u524d\u505c\u6b62\u5b83\u3002\u53ef\u4ee5\u4f7f\u7528 <code>sudo systemctl stop stmails</code> \u6216 <code>sudo service stmails stop</code> \u7b49\u547d\u4ee4\u3002\u7136\u540e\u8986\u76d6\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e3a\u65b0\u7248\u672c\uff0c\u8fd0\u884c <code>./stmails --upgrade</code>\uff0c\u5e76\u4f7f\u7528\u76f8\u540c\u7684\u547d\u4ee4\u91cd\u65b0\"\u542f\u52a8\"\u5b83\u3002</p> <p>\u5982\u679c\u4e0d\u662f\u4f5c\u4e3a\u670d\u52a1\u8fd0\u884c\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>pkill -9 stmails</code> \u505c\u6b62 stmails \u8fdb\u7a0b\u3002</p>"},{"location":"upgrade/#docker","title":"Docker","text":"<p>\u91cd\u8981\uff1a \u4ee5\u4e0b\u8bf4\u660e\u9002\u7528\u4e8e\u65b0\u7684 docker-compose.yml \u6587\u4ef6\u3002</p> <pre><code>docker compose down app\ndocker compose pull\ndocker compose up app -d\n</code></pre> <p>\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f\u8f83\u65e7\u7684 docker-compose.yml \u6587\u4ef6\uff0c\u60a8\u9700\u8981\u624b\u52a8\u8fd0\u884c <code>--upgrade</code> \u6b65\u9aa4\u3002</p> <pre><code>docker-compose down\ndocker-compose pull &amp;&amp; docker-compose run --rm app ./stmails --upgrade\ndocker-compose up -d app db\n</code></pre>"},{"location":"upgrade/#railway","title":"Railway","text":"<ul> <li>\u8fdb\u5165\u60a8\u7684\u4eea\u8868\u677f\uff0c\u9009\u62e9\u60a8\u7684 stmails \u9879\u76ee\u3002</li> <li>\u9009\u62e9 GitHub \u90e8\u7f72\u670d\u52a1\u3002</li> <li>\u5728\u90e8\u7f72\u9009\u9879\u5361\u4e2d\uff0c\u8fdb\u5165\u6700\u65b0\u90e8\u7f72\uff0c\u70b9\u51fb\u53f3\u4fa7\u7684\u4e09\u4e2a\u5782\u76f4\u70b9\uff0c\u9009\u62e9\"\u91cd\u65b0\u90e8\u7f72\"\u3002</li> </ul>"},{"location":"upgrade/#_3","title":"\u964d\u7ea7","text":"<p>\u8981\u6062\u590d\u5230\u4e4b\u524d\u7684\u7248\u672c\uff0c\u60a8\u5fc5\u987b\u6062\u590d\u8be5\u7279\u5b9a\u7248\u672c\u7684\u6570\u636e\u5e93\u3002\u5df2\u4f7f\u7528\u7279\u5b9a\u7248\u672c\u5347\u7ea7\u7684\u6570\u636e\u5e93\u4e0d\u5e94\u4e0e\u65e7\u7248\u672c\u4e00\u8d77\u4f7f\u7528\u3002\u65b0\u7248\u672c\u53ef\u80fd\u5e26\u6765\u4e0e\u65e7\u7248\u672c\u4e0d\u517c\u5bb9\u7684\u6570\u636e\u5e93\u66f4\u6539\u3002</p> <p>\u4e00\u822c\u6b65\u9aa4\uff1a</p> <ol> <li>\u505c\u6b62 stmails\u3002</li> <li>\u6062\u590d\u5347\u7ea7\u524d\u7684\u6570\u636e\u5e93\u3002</li> <li>\u5982\u679c\u60a8\u4f7f\u7528 <code>docker compose</code>\uff0c\u7f16\u8f91 <code>docker-compose.yml</code> \u5e76\u5c06 <code>stmails:latest</code> \u66f4\u6539\u4e3a <code>stmails:v2.4.0</code>\uff08\u4f8b\u5982\uff09\u3002</li> <li>\u91cd\u65b0\u542f\u52a8\u3002</li> </ol> <p>Docker \u793a\u4f8b\uff1a</p> <ol> <li>\u505c\u6b62 stmails\uff08app\uff09\uff1a <pre><code>sudo docker stop stmails_app\n</code></pre></li> <li>\u6062\u590d\u5347\u7ea7\u524d\u7684\u6570\u636e\u5e93\uff08\u5fc5\u9700\uff09\uff08\u6ce8\u610f\uff0c\u8fd9\u5c06\u6e05\u9664\u60a8\u73b0\u6709\u7684\u6570\u636e\u5e93\uff09\uff1a <pre><code>psql -h 127.0.0.1 -p 9432 -U stmails\ndrop schema public cascade;\ncreate schema public;\n\\q\npsql -h 127.0.0.1 -p 9432 -U stmails -W stmails &lt; stmails-preupgrade-db.sql\n</code></pre></li> <li>\u7f16\u8f91 <code>docker-compose.yml</code>\uff1a <pre><code>x-app-defaults: &amp;app-defaults\n  restart: unless-stopped\n  image: stmails/stmails:v2.4.0\n</code></pre></li> <li>\u91cd\u65b0\u542f\u52a8\uff1a <code>sudo docker compose up -d app db nginx certbot</code></li> </ol>"},{"location":"upgrade/#v4xx","title":"\u5347\u7ea7\u5230 v4.x.x","text":"<p>v4 \u662f\u4ece\u4e4b\u524d\u7248\u672c\u7684\u91cd\u5927\u5347\u7ea7\uff0c\u5bf9\u67d0\u4e9b\u91cd\u8981\u529f\u80fd\u548c\u884c\u4e3a\u8fdb\u884c\u4e86\u91cd\u5927\u66f4\u6539\u3002\u8fd9\u662f\u7b2c\u4e00\u4e2a\u5177\u6709\u591a\u7528\u6237\u652f\u6301\u548c\u5b8c\u6574\u7528\u6237\u7ba1\u7406\u7684\u7248\u672c\u3002\u4e4b\u524d\u7684\u7248\u672c\u53ea\u5bf9\u7ba1\u7406\u5458\u767b\u5f55\uff08\u6d4f\u89c8\u5668\u63d0\u793a\uff09\u548c API \u8c03\u7528\u4f7f\u7528\u7b80\u5355\u7684 BasicAuth\uff0c\u7528\u6237\u540d\u548c\u5bc6\u7801\u5728 TOML \u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u3002</p> <p>\u4f7f\u7528 <code>--upgrade</code> \u5347\u7ea7\u65e7\u5b89\u88c5\u662f\u5b89\u5168\u7684\uff0c\u4f46\u6709\u4e00\u4e9b\u91cd\u8981\u4e8b\u9879\u9700\u8981\u6ce8\u610f\u3002\u5347\u7ea7\u4f1a\u81ea\u52a8\u5c06 TOML \u914d\u7f6e\u4e2d\u5b9a\u4e49\u7684 <code>admin_username</code> \u548c <code>admin_password</code> \u5bfc\u5165\u5230\u65b0\u7684\u7528\u6237\u7ba1\u7406\u7cfb\u7edf\u4e2d\u3002</p> <ol> <li> <p>\u65b0\u7684\u767b\u5f55\u754c\u9762\uff1a\u4e00\u65e6\u60a8\u5347\u7ea7\u65e7\u5b89\u88c5\uff0c\u7ba1\u7406\u5458\u4eea\u8868\u677f\u5c06\u4e0d\u518d\u663e\u793a\u539f\u751f\u7684\u6d4f\u89c8\u5668\u767b\u5f55\u63d0\u793a\u3002\u76f8\u53cd\uff0cstmails \u6e32\u67d3\u7684\u65b0\u767b\u5f55\u754c\u9762\u5c06\u663e\u793a\u5728 URI <code>/admin/login</code> \u5904\u3002</p> </li> <li> <p>API \u51ed\u8bc1\uff1a\u5982\u679c\u60a8\u4f7f\u7528 API \u4e0e stmails \u4ea4\u4e92\uff0c\u767b\u5f55\u540e\uff0c\u8f6c\u5230\u8bbe\u7f6e -&gt; \u7528\u6237\u5e76\u521b\u5efa\u4e00\u4e2a\u5177\u6709\u5fc5\u8981\u6743\u9650\u7684\u65b0 API \u7528\u6237\u3002\u66f4\u6539\u73b0\u6709\u7684 API \u96c6\u6210\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u51ed\u8bc1\uff0c\u800c\u4e0d\u662f\u65e7\u7248 TOML \u914d\u7f6e\u6587\u4ef6\u6216\u73af\u5883\u53d8\u91cf\u4e2d\u5b9a\u4e49\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002</p> </li> <li> <p>TOML \u6587\u4ef6\u6216\u65e7\u73af\u5883\u53d8\u91cf\u4e2d\u7684\u51ed\u8bc1\uff1a\u5728\u4ece\u914d\u7f6e\u6587\u4ef6\u6216\u65e7\u73af\u5883\u53d8\u91cf\u4e2d\u5220\u9664 <code>admin_username</code> \u548c <code>admin_password</code> \u5b57\u6bb5\u4e4b\u524d\uff0c\u7ba1\u7406\u5458\u4eea\u8868\u677f\u4f1a\u663e\u793a\u8b66\u544a\u3002\u5728 v4.x.x \u4e2d\uff0c\u8fd9\u4e9b\u5b57\u6bb5\u65e0\u5173\u7d27\u8981\uff0c\u56e0\u4e3a\u7528\u6237\u51ed\u8bc1\u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d\u5e76\u4ece\u7ba1\u7406\u754c\u9762\u7ba1\u7406\u3002\u91cd\u8981\uff1a\u5982\u679c\u60a8\u4f7f\u7528 API \u4e0e stmails \u4ea4\u4e92\uff0c\u8bf7\u5728\u5220\u9664\u65e7\u7248\u51ed\u8bc1\u4e4b\u524d\u6267\u884c\u4e0a\u4e00\u6b65\u3002</p> </li> </ol>"},{"location":"apis/apis/","title":"APIs","text":"<p>All features that are available on the stmails dashboard are also available as REST-like HTTP APIs that can be interacted with directly. Request and response bodies are JSON. This allows easy scripting of stmails and integration with other systems, for instance, synchronisation with external subscriber databases.</p> <p>Note</p> <p>If you come across API calls that are yet to be documented, please consider contributing to docs.</p>"},{"location":"apis/apis/#auth","title":"Auth","text":"<p>HTTP API requests support BasicAuth and a Authorization <code>token</code> headers. API users and tokens with the required permissions can be created and managed on the admin UI (Admin -&gt; Users).</p>"},{"location":"apis/apis/#basicauth-example","title":"BasicAuth example","text":"<pre><code>curl -u \"api_user:token\" http://localhost:9000/api/lists\n</code></pre>"},{"location":"apis/apis/#authorization-token-example","title":"Authorization token example","text":"<pre><code>curl -H \"Authorization: token api_user:token\" http://localhost:9000/api/lists\n</code></pre>"},{"location":"apis/apis/#permissions","title":"Permissions","text":"<p>User role: Permissions allowed for a user are defined as a User role (Admin -&gt; User roles) and then attached to a user. </p> <p>List role: Read / write permissions per-list can be defined as a List role (Admin -&gt; User roles) and then attached to a user. </p> <p>In a User role, <code>lists:get_all</code> or <code>lists:manage_all</code> permission supercede and override any list specific permissions for a user defined in a List role.</p> <p>To manage lists and subscriber list subscriptions via API requests, ensure that the appropriate permissions are attached to the API user.</p>"},{"location":"apis/apis/#response-structure","title":"Response structure","text":""},{"location":"apis/apis/#successful-request","title":"Successful request","text":"<pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n    \"data\": {}\n}\n</code></pre> <p>All responses from the API server are JSON with the content-type application/json unless explicitly stated otherwise. A successful 200 OK response always has a JSON response body with a status key with the value success. The data key contains the full response payload.</p>"},{"location":"apis/apis/#failed-request","title":"Failed request","text":"<pre><code>HTTP/1.1 500 Server error\nContent-Type: application/json\n\n{\n    \"message\": \"Error message\"\n}\n</code></pre> <p>A failure response is preceded by the corresponding 40x or 50x HTTP header. There may be an optional <code>data</code> key with additional payload.</p>"},{"location":"apis/apis/#timestamps","title":"Timestamps","text":"<p>All timestamp fields are in the format <code>2019-01-01T09:00:00.000000+05:30</code>. The seconds component is suffixed by the milliseconds, followed by the <code>+</code> and the timezone offset.</p>"},{"location":"apis/apis/#common-http-error-codes","title":"Common HTTP error codes","text":"Code 400 Missing or bad request parameters or values 403 Session expired or invalidate. Must relogin 404 Request resource was not found 405 Request method (GET, POST etc.) is not allowed on the requested endpoint 410 The requested resource is gone permanently 422 Unprocessable entity. Unable to process request as it contains invalid data 429 Too many requests to the API (rate limiting) 500 Something unexpected went wrong 502 The backend OMS is down and the API is unable to communicate with it 503 Service unavailable; the API is down 504 Gateway timeout; the API is unreachable"},{"location":"apis/apis/#openapi-swagger-spec","title":"OpenAPI (Swagger) spec","text":"<p>The auto-generated OpenAPI (Swagger) specification site for the APIs are available at app.stmails.cn/docs/swagger</p>"},{"location":"apis/bounces/","title":"API / Bounces","text":"Method Endpoint Description GET /api/bounces Retrieve bounce records. DELETE /api/bounces Delete all/multiple bounce records. DELETE /api/bounces/{bounce_id} Delete specific bounce record."},{"location":"apis/bounces/#get-apibounces","title":"GET /api/bounces","text":"<p>Retrieve the bounce records.</p>"},{"location":"apis/bounces/#parameters","title":"Parameters","text":"Name Type Required Description campaign_id number Bounce record retrieval for particular campaign id page number Page number for pagination. per_page number Results per page. Set to 'all' to return all results. source string order_by string Fields by which bounce records are ordered. Options:\"email\", \"campaign_name\", \"source\", \"created_at\". order number Sorts the result. Allowed values: 'asc','desc'"},{"location":"apis/bounces/#example-request","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/bounces?campaign_id=1&amp;page=1&amp;per_page=2' \\ \n    -H 'accept: application/json' -H 'Content-Type: application/x-www-form-urlencoded' \\\n    --data '{\"source\":\"demo\",\"order_by\":\"created_at\",\"order\":\"asc\"}'\n</code></pre>"},{"location":"apis/bounces/#example-response","title":"Example Response","text":"<pre><code>{\n  \"data\": {\n    \"results\": [\n      {\n        \"id\": 839971,\n        \"type\": \"hard\",\n        \"source\": \"demo\",\n        \"meta\": {\n          \"some\": \"parameter\"\n        },\n        \"created_at\": \"2024-08-20T23:54:22.851858Z\",\n        \"email\": \"gilles.deleuze@example.app\",\n        \"subscriber_uuid\": \"32ca1f3e-1a1d-42e1-af04-df0757f420f3\",\n        \"subscriber_id\": 60,\n        \"campaign\": {\n          \"id\": 1,\n          \"name\": \"Test campaign\"\n        }\n      },\n      {\n        \"id\": 839725,\n        \"type\": \"hard\",\n        \"source\": \"demo\",\n        \"meta\": {\n          \"some\": \"parameter\"\n        },\n        \"created_at\": \"2024-08-20T22:46:36.393547Z\",\n        \"email\": \"gottfried.leibniz@example.app\",\n        \"subscriber_uuid\": \"5911d3f4-2346-4bfc-aad2-eb319ab0e879\",\n        \"subscriber_id\": 13,\n        \"campaign\": {\n          \"id\": 1,\n          \"name\": \"Test campaign\"\n        }\n      }\n    ],\n    \"query\": \"\",\n    \"total\": 528,\n    \"per_page\": 2,\n    \"page\": 1\n  }\n}\n</code></pre>"},{"location":"apis/bounces/#delete-apibounces","title":"DELETE /api/bounces","text":"<p>To delete all bounces.</p>"},{"location":"apis/bounces/#parameters_1","title":"Parameters","text":"Name Type Required Description all bool Yes Bool to confirm deleting all bounces"},{"location":"apis/bounces/#example-request_1","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' -X DELETE 'http://localhost:9000/api/bounces?all=true'\n</code></pre>"},{"location":"apis/bounces/#example-response_1","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n}\n</code></pre>"},{"location":"apis/bounces/#delete-apibounces_1","title":"DELETE /api/bounces","text":"<p>To delete multiple bounce records.</p>"},{"location":"apis/bounces/#parameters_2","title":"Parameters","text":"Name Type Required Description id number Yes Id's of bounce records to delete."},{"location":"apis/bounces/#example-request_2","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' -X DELETE 'http://localhost:9000/api/bounces?id=840965&amp;id=840168&amp;id=840879'\n</code></pre>"},{"location":"apis/bounces/#example-response_2","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n}\n</code></pre>"},{"location":"apis/bounces/#delete-apibouncesbounce_id","title":"DELETE /api/bounces/{bounce_id}","text":"<p>To delete specific bounce id.</p>"},{"location":"apis/bounces/#example-request_3","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' -X DELETE 'http://localhost:9000/api/bounces/840965'\n</code></pre>"},{"location":"apis/bounces/#example-response_3","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n}\n</code></pre>"},{"location":"apis/campaigns/","title":"API / Campaigns","text":"Method Endpoint Description GET /api/campaigns Retrieve all campaigns. GET /api/campaigns/{campaign_id} Retrieve a specific campaign. GET /api/campaigns/{campaign_id}/preview Retrieve preview of a campaign. GET /api/campaigns/running/stats Retrieve stats of specified campaigns. GET /api/campaigns/analytics/{type} Retrieve view counts for a  campaign. POST /api/campaigns Create a new campaign. POST /api/campaigns/{campaign_id}/test Test campaign with arbitrary subscribers. PUT /api/campaigns/{campaign_id} Update a campaign. PUT /api/campaigns/{campaign_id}/status Change status of a campaign. PUT /api/campaigns/{campaign_id}/archive Publish campaign to public archive. DELETE /api/campaigns/{campaign_id} Delete a campaign."},{"location":"apis/campaigns/#get-apicampaigns","title":"GET /api/campaigns","text":"<p>Retrieve all campaigns.</p>"},{"location":"apis/campaigns/#example-request","title":"Example Request","text":"<pre><code> curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/campaigns?page=1&amp;per_page=100'\n</code></pre>"},{"location":"apis/campaigns/#parameters","title":"Parameters","text":"Name Type Required Description order string Sorting order: ASC for ascending, DESC for descending. order_by string Result sorting field. Options: name, status, created_at, updated_at. query string SQL query expression to filter campaigns. status []string Status to filter campaigns. Repeat in the query for multiple values. tags []string Tags to filter campaigns. Repeat in the query for multiple values. page number Page number for paginated results. per_page number Results per page. Set as 'all' for all results. no_body boolean When set to true, returns response without body content."},{"location":"apis/campaigns/#example-response","title":"Example Response","text":"<pre><code>{\n    \"data\": {\n        \"results\": [\n            {\n                \"id\": 1,\n                \"created_at\": \"2020-03-14T17:36:41.29451+01:00\",\n                \"updated_at\": \"2020-03-14T17:36:41.29451+01:00\",\n                \"views\": 0,\n                \"clicks\": 0,\n                \"lists\": [\n                    {\n                        \"id\": 1,\n                        \"name\": \"Default list\"\n                    }\n                ],\n                \"started_at\": null,\n                \"to_send\": 0,\n                \"sent\": 0,\n                \"uuid\": \"57702beb-6fae-4355-a324-c2fd5b59a549\",\n                \"type\": \"regular\",\n                \"name\": \"Test campaign\",\n                \"subject\": \"Welcome to stmails\",\n                \"from_email\": \"No Reply &lt;noreply@yoursite.com&gt;\",\n                \"body\": \"&lt;h3&gt;Hi {{ .Subscriber.FirstName }}!&lt;/h3&gt;\\n\\t\\t\\tThis is a test e-mail campaign. Your second name is {{ .Subscriber.LastName }} and you are from {{ .Subscriber.Attribs.city }}.\",\n                \"send_at\": \"2020-03-15T17:36:41.293233+01:00\",\n                \"status\": \"draft\",\n                \"content_type\": \"richtext\",\n                \"tags\": [\n                    \"test-campaign\"\n                ],\n                \"template_id\": 1,\n                \"messenger\": \"email\"\n            }\n        ],\n        \"query\": \"\",\n        \"total\": 1,\n        \"per_page\": 20,\n        \"page\": 1\n    }\n}\n</code></pre>"},{"location":"apis/campaigns/#get-apicampaignscampaign_id","title":"GET /api/campaigns/{campaign_id}","text":"<p>Retrieve a specific campaign.</p>"},{"location":"apis/campaigns/#parameters_1","title":"Parameters","text":"Name Type Required Description campaign_id number Yes Campaign ID. no_body boolean When set to true, returns response without body content."},{"location":"apis/campaigns/#example-request_1","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/campaigns/1'\n</code></pre>"},{"location":"apis/campaigns/#example-response_1","title":"Example Response","text":"<pre><code>{\n    \"data\": {\n        \"id\": 1,\n        \"created_at\": \"2020-03-14T17:36:41.29451+01:00\",\n        \"updated_at\": \"2020-03-14T17:36:41.29451+01:00\",\n        \"views\": 0,\n        \"clicks\": 0,\n        \"lists\": [\n            {\n                \"id\": 1,\n                \"name\": \"Default list\"\n            }\n        ],\n        \"started_at\": null,\n        \"to_send\": 0,\n        \"sent\": 0,\n        \"uuid\": \"57702beb-6fae-4355-a324-c2fd5b59a549\",\n        \"type\": \"regular\",\n        \"name\": \"Test campaign\",\n        \"subject\": \"Welcome to stmails\",\n        \"from_email\": \"No Reply &lt;noreply@yoursite.com&gt;\",\n        \"body\": \"&lt;h3&gt;Hi {{ .Subscriber.FirstName }}!&lt;/h3&gt;\\n\\t\\t\\tThis is a test e-mail campaign. Your second name is {{ .Subscriber.LastName }} and you are from {{ .Subscriber.Attribs.city }}.\",\n        \"send_at\": \"2020-03-15T17:36:41.293233+01:00\",\n        \"status\": \"draft\",\n        \"content_type\": \"richtext\",\n        \"tags\": [\n            \"test-campaign\"\n        ],\n        \"template_id\": 1,\n        \"messenger\": \"email\"\n    }\n}\n</code></pre>"},{"location":"apis/campaigns/#get-apicampaignscampaign_idpreview","title":"GET /api/campaigns/{campaign_id}/preview","text":"<p>Preview a specific campaign.</p>"},{"location":"apis/campaigns/#parameters_2","title":"Parameters","text":"Name Type Required Description campaign_id number Yes Campaign ID to preview."},{"location":"apis/campaigns/#example-request_2","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/campaigns/1/preview'\n</code></pre>"},{"location":"apis/campaigns/#example-response_2","title":"Example Response","text":"<pre><code>&lt;h3&gt;Hi John!&lt;/h3&gt;\nThis is a test e-mail campaign. Your second name is Doe and you are from Bengaluru.\n</code></pre>"},{"location":"apis/campaigns/#get-apicampaignsrunningstats","title":"GET /api/campaigns/running/stats","text":"<p>Retrieve stats of specified campaigns.</p>"},{"location":"apis/campaigns/#parameters_3","title":"Parameters","text":"Name Type Required Description campaign_id number Yes Campaign IDs to get stats for."},{"location":"apis/campaigns/#example-request_3","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/campaigns/running/stats?campaign_id=1'\n</code></pre>"},{"location":"apis/campaigns/#example-response_3","title":"Example Response","text":"<pre><code>{\n    \"data\": []\n}\n</code></pre>"},{"location":"apis/campaigns/#get-apicampaignsanalyticstype","title":"GET /api/campaigns/analytics/{type}","text":"<p>Retrieve stats of specified campaigns.</p>"},{"location":"apis/campaigns/#parameters_4","title":"Parameters","text":"Name Type Required Description id number[] Yes Campaign IDs to get stats for. type string Yes Analytics type: views, links, clicks, bounces from string Yes Start value of date range. to string Yes End value of date range."},{"location":"apis/campaigns/#example-request_4","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/campaigns/analytics/views?id=1&amp;from=2024-08-04&amp;to=2024-08-12'\n</code></pre>"},{"location":"apis/campaigns/#example-response_4","title":"Example Response","text":"<pre><code>{\n  \"data\": [\n    {\n      \"campaign_id\": 1,\n      \"count\": 10,\n      \"timestamp\": \"2024-08-04T00:00:00Z\"\n    },\n    {\n      \"campaign_id\": 1,\n      \"count\": 14,\n      \"timestamp\": \"2024-08-08T00:00:00Z\"\n    },\n    {\n      \"campaign_id\": 1,\n      \"count\": 20,\n      \"timestamp\": \"2024-08-09T00:00:00Z\"\n    },\n    {\n      \"campaign_id\": 1,\n      \"count\": 21,\n      \"timestamp\": \"2024-08-10T00:00:00Z\"\n    },\n    {\n      \"campaign_id\": 1,\n      \"count\": 21,\n      \"timestamp\": \"2024-08-11T00:00:00Z\"\n    }\n  ]\n}\n</code></pre>"},{"location":"apis/campaigns/#example-request_5","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/campaigns/analytics/links?id=1&amp;from=2024-08-04T18%3A30%3A00.624Z&amp;to=2024-08-12T18%3A29%3A00.624Z'\n</code></pre>"},{"location":"apis/campaigns/#example-response_5","title":"Example Response","text":"<pre><code>{\n  \"data\": [\n    {\n      \"url\": \"https://freethebears.org\",\n      \"count\": 294\n    },\n    {\n      \"url\": \"https://calmcode.io\",\n      \"count\": 278\n    },\n    {\n      \"url\": \"https://climate.nasa.gov\",\n      \"count\": 261\n    },\n    {\n      \"url\": \"https://www.storybreathing.com\",\n      \"count\": 260\n    }\n  ]\n}\n</code></pre>"},{"location":"apis/campaigns/#post-apicampaigns","title":"POST /api/campaigns","text":"<p>Create a new campaign.</p>"},{"location":"apis/campaigns/#parameters_5","title":"Parameters","text":"Name Type Required Description name string Yes Campaign name. subject string Yes Campaign email subject. lists number[] Yes List IDs to send campaign to. from_email string 'From' email in campaign emails. Defaults to value from settings if not provided. type string Yes Campaign type: 'regular' or 'optin'. content_type string Yes Content type: 'richtext', 'html', 'markdown', 'plain'. body string Yes Content body of campaign. altbody string Alternate plain text body for HTML (and richtext) emails. send_at string Timestamp to schedule campaign. Format: 'YYYY-MM-DDTHH:MM:SSZ'. messenger string 'email' or a custom messenger defined in settings. Defaults to 'email' if not provided. template_id number Template ID to use. Defaults to default template if not provided. tags string[] Tags to mark campaign. headers JSON Key-value pairs to send as SMTP headers. Example: [{\"x-custom-header\": \"value\"}]."},{"location":"apis/campaigns/#example-request_6","title":"Example request","text":"<pre><code>curl -u \"api_user:token\" 'http://localhost:9000/api/campaigns' -X POST -H 'Content-Type: application/json;charset=utf-8' --data-raw '{\"name\":\"Test campaign\",\"subject\":\"Hello, world\",\"lists\":[1],\"from_email\":\"stmails &lt;noreply@stmails.yoursite.com&gt;\",\"content_type\":\"richtext\",\"messenger\":\"email\",\"type\":\"regular\",\"tags\":[\"test\"],\"template_id\":1}'\n</code></pre>"},{"location":"apis/campaigns/#example-response_6","title":"Example response","text":"<pre><code>{\n    \"data\": {\n        \"id\": 1,\n        \"created_at\": \"2021-12-27T11:50:23.333485Z\",\n        \"updated_at\": \"2021-12-27T11:50:23.333485Z\",\n        \"views\": 0,\n        \"clicks\": 0,\n        \"bounces\": 0,\n        \"lists\": [{\n            \"id\": 1,\n            \"name\": \"Default list\"\n        }],\n        \"started_at\": null,\n        \"to_send\": 1,\n        \"sent\": 0,\n        \"uuid\": \"90c889cc-3728-4064-bbcb-5c1c446633b3\",\n        \"type\": \"regular\",\n        \"name\": \"Test campaign\",\n        \"subject\": \"Hello, world\",\n        \"from_email\": \"stmails \\u003cnoreply@stmails.yoursite.com\\u003e\",\n        \"body\": \"\",\n        \"altbody\": null,\n        \"send_at\": null,\n        \"status\": \"draft\",\n        \"content_type\": \"richtext\",\n        \"tags\": [\"test\"],\n        \"template_id\": 1,\n        \"messenger\": \"email\"\n    }\n}\n</code></pre>"},{"location":"apis/campaigns/#post-apicampaignscampaign_idtest","title":"POST /api/campaigns/{campaign_id}/test","text":"<p>Test campaign with arbitrary subscribers.</p> <p>Use the same parameters in POST /api/campaigns in addition to the below parameters.</p>"},{"location":"apis/campaigns/#parameters_6","title":"Parameters","text":"Name Type Required Description subscribers string[] Yes List of subscriber e-mails to send the message to."},{"location":"apis/campaigns/#put-apicampaignscampaign_id","title":"PUT /api/campaigns/{campaign_id}","text":"<p>Update a campaign.</p> <p>Refer to parameters from POST /api/campaigns</p>"},{"location":"apis/campaigns/#put-apicampaignscampaign_id_1","title":"PUT /api/campaigns/{campaign_id}","text":"<p>Update a specific campaign.</p> <p>Refer to parameters from POST /api/campaigns</p>"},{"location":"apis/campaigns/#put-apicampaignscampaign_idstatus","title":"PUT /api/campaigns/{campaign_id}/status","text":"<p>Change status of a campaign.</p>"},{"location":"apis/campaigns/#parameters_7","title":"Parameters","text":"Name Type Required Description campaign_id number Yes Campaign ID to change status. status string Yes New status for campaign: 'scheduled', 'running', 'paused', 'cancelled'."},{"location":"apis/campaigns/#note","title":"Note","text":"<ul> <li>Only 'scheduled' campaigns can change status to 'draft'.</li> <li>Only 'draft' campaigns can change status to 'scheduled'.</li> <li>Only 'paused' and 'draft' campaigns can start ('running' status).</li> <li>Only 'running' campaigns can change status to 'cancelled' and 'paused'.</li> </ul>"},{"location":"apis/campaigns/#example-request_7","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X PUT 'http://localhost:9000/api/campaigns/1/status' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\"status\":\"scheduled\"}'\n</code></pre>"},{"location":"apis/campaigns/#example-response_7","title":"Example Response","text":"<pre><code>{\n    \"data\": {\n        \"id\": 1,\n        \"created_at\": \"2020-03-14T17:36:41.29451+01:00\",\n        \"updated_at\": \"2020-04-08T19:35:17.331867+01:00\",\n        \"views\": 0,\n        \"clicks\": 0,\n        \"lists\": [\n            {\n                \"id\": 1,\n                \"name\": \"Default list\"\n            }\n        ],\n        \"started_at\": null,\n        \"to_send\": 0,\n        \"sent\": 0,\n        \"uuid\": \"57702beb-6fae-4355-a324-c2fd5b59a549\",\n        \"type\": \"regular\",\n        \"name\": \"Test campaign\",\n        \"subject\": \"Welcome to stmails\",\n        \"from_email\": \"No Reply &lt;noreply@yoursite.com&gt;\",\n        \"body\": \"&lt;h3&gt;Hi {{ .Subscriber.FirstName }}!&lt;/h3&gt;\\n\\t\\t\\tThis is a test e-mail campaign. Your second name is {{ .Subscriber.LastName }} and you are from {{ .Subscriber.Attribs.city }}.\",\n        \"send_at\": \"2020-03-15T17:36:41.293233+01:00\",\n        \"status\": \"scheduled\",\n        \"content_type\": \"richtext\",\n        \"tags\": [\n            \"test-campaign\"\n        ],\n        \"template_id\": 1,\n        \"messenger\": \"email\"\n    }\n}\n</code></pre>"},{"location":"apis/campaigns/#put-apicampaignscampaign_idarchive","title":"PUT /api/campaigns/{campaign_id}/archive","text":"<p>Publish campaign to public archive.</p>"},{"location":"apis/campaigns/#parameters_8","title":"Parameters","text":"Name Type Required Description campaign_id number Yes Campaign ID to publish to public archive. archive bool Yes State of the public archive. archive_template_id number No Archive template id. Defaults to 0. archive_meta JSON string No Optional Metadata to use in campaign message or template.Eg: name, email. archive_slug string No Name for page to be used in public archive URL"},{"location":"apis/campaigns/#example-request_8","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X PUT 'http://localhost:8080/api/campaigns/33/archive' \n--header 'Content-Type: application/json' \n--data-raw '{\"archive\":true,\"archive_template_id\":1,\"archive_meta\":{},\"archive_slug\":\"my-newsletter-old-edition\"}'\n</code></pre>"},{"location":"apis/campaigns/#example-response_8","title":"Example Response","text":"<pre><code>{\n  \"data\": {\n    \"archive\": true,\n    \"archive_template_id\": 1,\n    \"archive_meta\": {},\n    \"archive_slug\": \"my-newsletter-old-edition\"\n  }\n}\n</code></pre>"},{"location":"apis/campaigns/#delete-apicampaignscampaign_id","title":"DELETE /api/campaigns/{campaign_id}","text":"<p>Delete a campaign.</p>"},{"location":"apis/campaigns/#parameters_9","title":"Parameters","text":"Name Type Required Description campaign_id number Yes Campaign ID to delete."},{"location":"apis/campaigns/#example-request_9","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X DELETE 'http://localhost:9000/api/campaigns/34'\n</code></pre>"},{"location":"apis/campaigns/#example-response_9","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n}\n</code></pre>"},{"location":"apis/import/","title":"API / Import","text":"Method Endpoint Description GET /api/import/subscribers Retrieve import statistics. GET /api/import/subscribers/logs Retrieve import logs. POST /api/import/subscribers Upload a file for bulk subscriber import. DELETE /api/import/subscribers Stop and remove an import."},{"location":"apis/import/#get-apiimportsubscribers","title":"GET /api/import/subscribers","text":"<p>Retrieve the status of an ongoing import.</p>"},{"location":"apis/import/#example-request","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/import/subscribers'\n</code></pre>"},{"location":"apis/import/#example-response","title":"Example Response","text":"<pre><code>{\n    \"data\": {\n        \"name\": \"\",\n        \"total\": 0,\n        \"imported\": 0,\n        \"status\": \"none\"\n    }\n}\n</code></pre>"},{"location":"apis/import/#get-apiimportsubscriberslogs","title":"GET /api/import/subscribers/logs","text":"<p>Retrieve logs from an ongoing import.</p>"},{"location":"apis/import/#example-request_1","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/import/subscribers/logs'\n</code></pre>"},{"location":"apis/import/#example-response_1","title":"Example Response","text":"<pre><code>{\n    \"data\": \"2020/04/08 21:55:20 processing 'import.csv'\\n2020/04/08 21:55:21 imported finished\\n\"\n}\n</code></pre>"},{"location":"apis/import/#post-apiimportsubscribers","title":"POST /api/import/subscribers","text":"<p>Send a CSV (optionally ZIP compressed) file to import subscribers. Use a multipart form POST.</p>"},{"location":"apis/import/#parameters","title":"Parameters","text":"Name Type Required Description params JSON string Yes Stringified JSON with import parameters. file file Yes File for upload."},{"location":"apis/import/#params-json-string","title":"<code>params</code> (JSON string)","text":"Name Type Required Description mode string Yes <code>subscribe</code> or <code>blocklist</code> delim string Yes Single character indicating delimiter used in the CSV file, eg: <code>,</code> lists []number Yes Single character indicating delimiter used in the CSV file, eg: <code>,</code> overwrite bool Yes Whether to overwrite the subscriber parameters including subscriptions or ignore records that are already present in the database."},{"location":"apis/import/#example-request_2","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X POST 'http://localhost:9000/api/import/subscribers' \\\n  -F 'params={\"mode\":\"subscribe\", \"subscription_status\":\"confirmed\", \"delim\":\",\", \"lists\":[1, 2], \"overwrite\": true}' \\\n  -F \"file=@/path/to/subs.csv\"\n</code></pre>"},{"location":"apis/import/#example-response_2","title":"Example Response","text":"<pre><code>    {\n        \"mode\": \"subscribe\", // subscribe or blocklist\n        \"delim\": \",\",        // delimiter in the uploaded file\n        \"lists\":[1],         // array of list IDs to import into\n        \"overwrite\": true    // overwrite existing entries or skip them?\n    }\n</code></pre>"},{"location":"apis/import/#delete-apiimportsubscribers","title":"DELETE /api/import/subscribers","text":"<p>Stop and delete an ongoing import.</p>"},{"location":"apis/import/#example-request_3","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X DELETE 'http://localhost:9000/api/import/subscribers' \n</code></pre>"},{"location":"apis/import/#example-response_3","title":"Example Response","text":"<pre><code>{\n    \"data\": {\n        \"name\": \"\",\n        \"total\": 0,\n        \"imported\": 0,\n        \"status\": \"none\"\n    }\n}\n</code></pre>"},{"location":"apis/lists/","title":"API / Lists","text":"Method Endpoint Description GET /api/lists Retrieve all lists. GET /api/public/lists Retrieve public lists. GET /api/lists/{list_id} Retrieve a specific list. POST /api/lists Create a new list. PUT /api/lists/{list_id} Update a list. DELETE /api/lists/{list_id} Delete a list."},{"location":"apis/lists/#get-apilists","title":"GET /api/lists","text":"<p>Retrieve lists.</p>"},{"location":"apis/lists/#parameters","title":"Parameters","text":"Name Type Required Description query string string for list name search. status []string Status to filter lists. Repeat in the query for multiple values. tag []string Tags to filter lists. Repeat in the query for multiple values. order_by string Sort field. Options: name, status, created_at, updated_at. order string Sorting order. Options: ASC, DESC. page number Page number for pagination. per_page number Results per page. Set to 'all' to return all results."},{"location":"apis/lists/#example-request","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/lists?page=1&amp;per_page=100'\n</code></pre>"},{"location":"apis/lists/#example-response","title":"Example Response","text":"<pre><code>{\n    \"data\": {\n        \"results\": [\n            {\n                \"id\": 1,\n                \"created_at\": \"2020-02-10T23:07:16.194843+01:00\",\n                \"updated_at\": \"2020-03-06T22:32:01.118327+01:00\",\n                \"uuid\": \"ce13e971-c2ed-4069-bd0c-240e9a9f56f9\",\n                \"name\": \"Default list\",\n                \"type\": \"public\",\n                \"optin\": \"double\",\n                \"tags\": [\n                    \"test\"\n                ],\n                \"subscriber_count\": 2\n            },\n            {\n                \"id\": 2,\n                \"created_at\": \"2020-03-04T21:12:09.555013+01:00\",\n                \"updated_at\": \"2020-03-06T22:34:46.405031+01:00\",\n                \"uuid\": \"f20a2308-dfb5-4420-a56d-ecf0618a102d\",\n                \"name\": \"get\",\n                \"type\": \"private\",\n                \"optin\": \"single\",\n                \"tags\": [],\n                \"subscriber_count\": 0\n            }\n        ],\n        \"total\": 5,\n        \"per_page\": 20,\n        \"page\": 1\n    }\n}\n</code></pre>"},{"location":"apis/lists/#get-apipubliclists","title":"GET /api/public/lists","text":"<p>Retrieve public lists with name and uuid to submit a subscription. This is an unauthenticated call to enable scripting to subscription form.</p>"},{"location":"apis/lists/#example-request_1","title":"Example Request","text":"<pre><code>curl -X GET 'http://localhost:9000/api/public/lists'\n</code></pre>"},{"location":"apis/lists/#example-response_1","title":"Example Response","text":"<pre><code>[\n  {\n    \"uuid\": \"55e243af-80c6-4169-8d7f-bc571e0269e9\",\n    \"name\": \"Opt-in list\"\n  }\n]\n</code></pre>"},{"location":"apis/lists/#get-apilistslist_id","title":"GET /api/lists/{list_id}","text":"<p>Retrieve a specific list.</p>"},{"location":"apis/lists/#parameters_1","title":"Parameters","text":"Name Type Required Description list_id number Yes ID of the list to retrieve."},{"location":"apis/lists/#example-request_2","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/lists/5'\n</code></pre>"},{"location":"apis/lists/#example-response_2","title":"Example Response","text":"<pre><code>{\n    \"data\": {\n        \"id\": 5,\n        \"created_at\": \"2020-03-07T06:31:06.072483+01:00\",\n        \"updated_at\": \"2020-03-07T06:31:06.072483+01:00\",\n        \"uuid\": \"1bb246ab-7417-4cef-bddc-8fc8fc941d3a\",\n        \"name\": \"Test list\",\n        \"type\": \"public\",\n        \"optin\": \"double\",\n        \"tags\": [],\n        \"subscriber_count\": 0\n    }\n}\n</code></pre>"},{"location":"apis/lists/#post-apilists","title":"POST /api/lists","text":"<p>Create a new list.</p>"},{"location":"apis/lists/#parameters_2","title":"Parameters","text":"Name Type Required Description name string Yes Name of the new list. type string Yes Type of list. Options: private, public. optin string Yes Opt-in type. Options: single, double. tags string[] Associated tags for a list. description string No Description of the new list."},{"location":"apis/lists/#example-request_3","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X POST 'http://localhost:9000/api/lists'\n</code></pre>"},{"location":"apis/lists/#example-response_3","title":"Example Response","text":"<pre><code>{\n    \"data\": {\n        \"id\": 5,\n        \"created_at\": \"2020-03-07T06:31:06.072483+01:00\",\n        \"updated_at\": \"2020-03-07T06:31:06.072483+01:00\",\n        \"uuid\": \"1bb246ab-7417-4cef-bddc-8fc8fc941d3a\",\n        \"name\": \"Test list\",\n        \"type\": \"public\",\n        \"tags\": [],\n        \"subscriber_count\": 0,\n        \"description\": \"This is a test list\"\n    }\n}\nnull\n</code></pre>"},{"location":"apis/lists/#put-apilistslist_id","title":"PUT /api/lists/{list_id}","text":"<p>Update a list.</p>"},{"location":"apis/lists/#parameters_3","title":"Parameters","text":"Name Type Required Description list_id number Yes ID of the list to update. name string New name for the list. type string Type of list. Options: private, public. optin string Opt-in type. Options: single, double. tags string[] Associated tags for the list. description string Description of the new list."},{"location":"apis/lists/#example-request_4","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X PUT 'http://localhost:9000/api/lists/5' \\\n--form 'name=modified test list' \\\n--form 'type=private'\n</code></pre>"},{"location":"apis/lists/#example-response_4","title":"Example Response","text":"<pre><code>{\n    \"data\": {\n        \"id\": 5,\n        \"created_at\": \"2020-03-07T06:31:06.072483+01:00\",\n        \"updated_at\": \"2020-03-07T06:52:15.208075+01:00\",\n        \"uuid\": \"1bb246ab-7417-4cef-bddc-8fc8fc941d3a\",\n        \"name\": \"modified test list\",\n        \"type\": \"private\",\n        \"optin\": \"single\",\n        \"tags\": [],\n        \"subscriber_count\": 0,\n        \"description\": \"This is a test list\"\n    }\n}\n</code></pre>"},{"location":"apis/lists/#delete-apilistslist_id","title":"DELETE /api/lists/{list_id}","text":"<p>Delete a specific list.</p>"},{"location":"apis/lists/#parameters_4","title":"Parameters","text":"Name Type Required Description list_id Number Yes ID of the list to delete."},{"location":"apis/lists/#example-request_5","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' -X DELETE 'http://localhost:9000/api/lists/1'\n</code></pre>"},{"location":"apis/lists/#example-response_5","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n}\n</code></pre>"},{"location":"apis/media/","title":"API / Media","text":"Method Endpoint Description GET /api/media Get uploaded media file GET /api/media/{media_id} Get specific uploaded media file POST /api/media Upload media file DELETE /api/media/{media_id} Delete uploaded media file"},{"location":"apis/media/#get-apimedia","title":"GET /api/media","text":"<p>Get an uploaded media file.</p>"},{"location":"apis/media/#example-request","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/media' \\\n--header 'Content-Type: multipart/form-data; boundary=--------------------------093715978792575906250298'\n</code></pre>"},{"location":"apis/media/#example-response","title":"Example Response","text":"<pre><code>{\n    \"data\": [\n        {\n            \"id\": 1,\n            \"uuid\": \"ec7b45ce-1408-4e5c-924e-965326a20287\",\n            \"filename\": \"Media file\",\n            \"created_at\": \"2020-04-08T22:43:45.080058+01:00\",\n            \"thumb_url\": \"/uploads/image_thumb.jpg\",\n            \"uri\": \"/uploads/image.jpg\"\n        }\n    ]\n}\n</code></pre>"},{"location":"apis/media/#get-apimediamedia_id","title":"GET /api/media/{media_id}","text":"<p>Retrieve a specific media.</p>"},{"location":"apis/media/#parameters","title":"Parameters","text":"Name Type Required Description media_id Number Yes Media ID."},{"location":"apis/media/#example-request_1","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' 'http://localhost:9000/api/media/7' \n</code></pre>"},{"location":"apis/media/#example-response_1","title":"Example Response","text":"<pre><code>{\n  \"data\": \n    {\n        \"id\": 7,\n        \"uuid\": \"62e32e97-d6ca-4441-923f-b62607000dd1\",\n        \"filename\": \"ResumeB.pdf\",\n        \"content_type\": \"application/pdf\",\n        \"created_at\": \"2024-08-06T11:28:53.888257+05:30\",\n        \"thumb_url\": null,\n        \"provider\": \"filesystem\",\n        \"meta\": {},\n        \"url\": \"http://localhost:9000/uploads/ResumeB.pdf\"\n    }\n}\n</code></pre>"},{"location":"apis/media/#post-apimedia","title":"POST /api/media","text":"<p>Upload a media file.</p>"},{"location":"apis/media/#parameters_1","title":"Parameters","text":"Field Type Required Description file File Yes Media file to upload"},{"location":"apis/media/#example-request_2","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X POST 'http://localhost:9000/api/media' \\\n--header 'Content-Type: multipart/form-data; boundary=--------------------------183679989870526937212428' \\\n--form 'file=@/path/to/image.jpg'\n</code></pre>"},{"location":"apis/media/#example-response_2","title":"Example Response","text":"<pre><code>{\n    \"data\": {\n        \"id\": 1,\n        \"uuid\": \"ec7b45ce-1408-4e5c-924e-965326a20287\",\n        \"filename\": \"Media file\",\n        \"created_at\": \"2020-04-08T22:43:45.080058+01:00\",\n        \"thumb_uri\": \"/uploads/image_thumb.jpg\",\n        \"uri\": \"/uploads/image.jpg\"\n    }\n}\n</code></pre>"},{"location":"apis/media/#delete-apimediamedia_id","title":"DELETE /api/media/{media_id}","text":"<p>Delete an uploaded media file.</p>"},{"location":"apis/media/#parameters_2","title":"Parameters","text":"Field Type Required Description media_id number Yes ID of media file to delete"},{"location":"apis/media/#example-request_3","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X DELETE 'http://localhost:9000/api/media/1'\n</code></pre>"},{"location":"apis/media/#example-response_3","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n}\n</code></pre>"},{"location":"apis/sdks/","title":"SDKs and client libraries","text":"<p>A list of 3rd party client libraries and SDKs that have been written for stmails APIs.</p> <p>Note</p> <p>The list is community sourced. They have not been verified and are not officially supported.</p> <ul> <li>WordPress - WooCommerce plugin integration for stmails</li> <li>stmails  \u2014 Python API client</li> <li>stmails-api \u2014 Python API client</li> <li>frappe_stmails \u2014 Frappe framework integration for stmails</li> <li>auto-newsletter-stmails \u2014 Ghost CMS integration</li> <li>stmails-newsletter - RSS to stmails integration for email newsletters</li> <li>stmails-crysctal \u2014 Crystal lang API client</li> <li>terraform-provider-stmails \u2014 Manage stmails templates in Terraform</li> <li>stmails-php-client \u2014 PHP API client</li> <li>php-stmails \u2014 PHP API client</li> <li>go-stmails \u2014 Go API client</li> <li>stmails-nodejs-api \u2014 NodeJS API client</li> <li> <ul> <li>stmails-laravel \u2014 Laravel API Client</li> </ul> </li> </ul>"},{"location":"apis/subscribers/","title":"API / Subscribers","text":"Method Endpoint Description GET /api/subscribers Query and retrieve subscribers. GET /api/subscribers/{subscriber_id} Retrieve a specific subscriber. GET /api/subscribers/{subscriber_id}/export Export a specific subscriber. GET /api/subscribers/{subscriber_id}/bounces Retrieve a  subscriber bounce records. POST /api/subscribers Create a new subscriber. POST /api/subscribers/{subscriber_id}/optin Sends optin confirmation email to subscribers. POST /api/public/subscription Create a public subscription. PUT /api/subscribers/lists Modify subscriber list memberships. PUT /api/subscribers/{subscriber_id} Update a specific subscriber. PUT /api/subscribers/{subscriber_id}/blocklist Blocklist a specific subscriber. PUT /api/subscribers/blocklist Blocklist one or many subscribers. PUT /api/subscribers/query/blocklist Blocklist subscribers based on SQL expression. DELETE /api/subscribers/{subscriber_id} Delete a specific subscriber. DELETE /api/subscribers/{subscriber_id}/bounces Delete a specific subscriber's bounce records. DELETE /api/subscribers Delete one or more subscribers. POST /api/subscribers/query/delete Delete subscribers based on SQL expression."},{"location":"apis/subscribers/#get-apisubscribers","title":"GET /api/subscribers","text":"<p>Retrieve all subscribers.</p>"},{"location":"apis/subscribers/#query-parameters","title":"Query parameters","text":"Name Type Required Description query string Subscriber search by SQL expression. list_id int[] ID of lists to filter by. Repeat in the query for multiple values. subscription_status string Subscription status to filter by if there are one or more <code>list_id</code>s. order_by string Result sorting field. Options: name, status, created_at, updated_at. order string Sorting order: ASC for ascending, DESC for descending. page number Page number for paginated results. per_page number Results per page. Set as 'all' for all results."},{"location":"apis/subscribers/#example-request","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' 'http://localhost:9000/api/subscribers?page=1&amp;per_page=100' \n</code></pre> <pre><code>curl -u 'api_username:access_token' 'http://localhost:9000/api/subscribers?list_id=1&amp;list_id=2&amp;page=1&amp;per_page=100'\n</code></pre> <pre><code>curl -u 'api_username:access_token' -X GET 'http://localhost:9000/api/subscribers' \\\n    --url-query 'page=1' \\\n    --url-query 'per_page=100' \\\n    --url-query \"query=subscribers.name LIKE 'Test%' AND subscribers.attribs-&gt;&gt;'city' = 'Bengaluru'\"\n</code></pre>"},{"location":"apis/subscribers/#example-response","title":"Example Response","text":"<pre><code>{\n    \"data\": {\n        \"results\": [\n            {\n                \"id\": 1,\n                \"created_at\": \"2020-02-10T23:07:16.199433+01:00\",\n                \"updated_at\": \"2020-02-10T23:07:16.199433+01:00\",\n                \"uuid\": \"ea06b2e7-4b08-4697-bcfc-2a5c6dde8f1c\",\n                \"email\": \"john@example.com\",\n                \"name\": \"John Doe\",\n                \"attribs\": {\n                    \"city\": \"Bengaluru\",\n                    \"good\": true,\n                    \"type\": \"known\"\n                },\n                \"status\": \"enabled\",\n                \"lists\": [\n                    {\n                        \"subscription_status\": \"unconfirmed\",\n                        \"id\": 1,\n                        \"uuid\": \"ce13e971-c2ed-4069-bd0c-240e9a9f56f9\",\n                        \"name\": \"Default list\",\n                        \"type\": \"public\",\n                        \"tags\": [\n                            \"test\"\n                        ],\n                        \"created_at\": \"2020-02-10T23:07:16.194843+01:00\",\n                        \"updated_at\": \"2020-02-10T23:07:16.194843+01:00\"\n                    }\n                ]\n            },\n            {\n                \"id\": 2,\n                \"created_at\": \"2020-02-18T21:10:17.218979+01:00\",\n                \"updated_at\": \"2020-02-18T21:10:17.218979+01:00\",\n                \"uuid\": \"ccf66172-f87f-4509-b7af-e8716f739860\",\n                \"email\": \"quadri@example.com\",\n                \"name\": \"quadri\",\n                \"attribs\": {},\n                \"status\": \"enabled\",\n                \"lists\": [\n                    {\n                        \"subscription_status\": \"unconfirmed\",\n                        \"id\": 1,\n                        \"uuid\": \"ce13e971-c2ed-4069-bd0c-240e9a9f56f9\",\n                        \"name\": \"Default list\",\n                        \"type\": \"public\",\n                        \"tags\": [\n                            \"test\"\n                        ],\n                        \"created_at\": \"2020-02-10T23:07:16.194843+01:00\",\n                        \"updated_at\": \"2020-02-10T23:07:16.194843+01:00\"\n                    }\n                ]\n            },\n            {\n                \"id\": 3,\n                \"created_at\": \"2020-02-19T19:10:49.36636+01:00\",\n                \"updated_at\": \"2020-02-19T19:10:49.36636+01:00\",\n                \"uuid\": \"5d940585-3cc8-4add-b9c5-76efba3c6edd\",\n                \"email\": \"sugar@example.com\",\n                \"name\": \"sugar\",\n                \"attribs\": {},\n                \"status\": \"enabled\",\n                \"lists\": []\n            }\n        ],\n        \"query\": \"\",\n        \"total\": 3,\n        \"per_page\": 20,\n        \"page\": 1\n    }\n}\n</code></pre>"},{"location":"apis/subscribers/#get-apisubscriberssubscriber_id","title":"GET /api/subscribers/{subscriber_id}","text":"<p>Retrieve a specific subscriber.</p>"},{"location":"apis/subscribers/#parameters","title":"Parameters","text":"Name Type Required Description subscriber_id Number Yes Subscriber's ID."},{"location":"apis/subscribers/#example-request_1","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' 'http://localhost:9000/api/subscribers/1' \n</code></pre>"},{"location":"apis/subscribers/#example-response_1","title":"Example Response","text":"<pre><code>{\n    \"data\": {\n        \"id\": 1,\n        \"created_at\": \"2020-02-10T23:07:16.199433+01:00\",\n        \"updated_at\": \"2020-02-10T23:07:16.199433+01:00\",\n        \"uuid\": \"ea06b2e7-4b08-4697-bcfc-2a5c6dde8f1c\",\n        \"email\": \"john@example.com\",\n        \"name\": \"John Doe\",\n        \"attribs\": {\n            \"city\": \"Bengaluru\",\n            \"good\": true,\n            \"type\": \"known\"\n        },\n        \"status\": \"enabled\",\n        \"lists\": [\n            {\n                \"subscription_status\": \"unconfirmed\",\n                \"id\": 1,\n                \"uuid\": \"ce13e971-c2ed-4069-bd0c-240e9a9f56f9\",\n                \"name\": \"Default list\",\n                \"type\": \"public\",\n                \"tags\": [\n                    \"test\"\n                ],\n                \"created_at\": \"2020-02-10T23:07:16.194843+01:00\",\n                \"updated_at\": \"2020-02-10T23:07:16.194843+01:00\"\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"apis/subscribers/#get-apisubscriberssubscriber_idexport","title":"GET /api/subscribers/{subscriber_id}/export","text":"<p>Export a specific subscriber data that gives profile, list subscriptions, campaign views and link clicks information. Names of private lists are replaced with \"Private list\". </p>"},{"location":"apis/subscribers/#parameters_1","title":"Parameters","text":"Name Type Required Description subscriber_id Number Yes Subscriber's ID."},{"location":"apis/subscribers/#example-request_2","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' 'http://localhost:9000/api/subscribers/1/export' \n</code></pre>"},{"location":"apis/subscribers/#example-response_2","title":"Example Response","text":"<pre><code>{\n  \"profile\": [\n    {\n      \"id\": 1,\n      \"uuid\": \"c2cc0b31-b485-4d72-8ce8-b47081beadec\",\n      \"email\": \"john@example.com\",\n      \"name\": \"John Doe\",\n      \"attribs\": {\n        \"city\": \"Bengaluru\",\n        \"good\": true,\n        \"type\": \"known\"\n      },\n      \"status\": \"enabled\",\n      \"created_at\": \"2024-07-29T11:01:31.478677+05:30\",\n      \"updated_at\": \"2024-07-29T11:01:31.478677+05:30\"\n    }\n  ],\n  \"subscriptions\": [\n    {\n      \"subscription_status\": \"unconfirmed\",\n      \"name\": \"Private list\",\n      \"type\": \"private\",\n      \"created_at\": \"2024-07-29T11:01:31.478677+05:30\"\n    }\n  ],\n  \"campaign_views\": [],\n  \"link_clicks\": []\n}\n</code></pre>"},{"location":"apis/subscribers/#get-apisubscriberssubscriber_idbounces","title":"GET /api/subscribers/{subscriber_id}/bounces","text":"<p>Get a specific subscriber bounce records.</p>"},{"location":"apis/subscribers/#parameters_2","title":"Parameters","text":"Name Type Required Description subscriber_id Number Yes Subscriber's ID."},{"location":"apis/subscribers/#example-request_3","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' 'http://localhost:9000/api/subscribers/1/bounces' \n</code></pre>"},{"location":"apis/subscribers/#example-response_3","title":"Example Response","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": 841706,\n      \"type\": \"hard\",\n      \"source\": \"demo\",\n      \"meta\": {\n        \"some\": \"parameter\"\n      },\n      \"created_at\": \"2024-08-22T09:05:12.862877Z\",\n      \"email\": \"thomas.hobbes@example.com\",\n      \"subscriber_uuid\": \"137c0d83-8de6-44e2-a55f-d4238ab21969\",\n      \"subscriber_id\": 99,\n      \"campaign\": {\n        \"id\": 2,\n        \"name\": \"Welcome to stmails\"\n      }\n    },\n    {\n      \"id\": 841680,\n      \"type\": \"hard\",\n      \"source\": \"demo\",\n      \"meta\": {\n        \"some\": \"parameter\"\n      },\n      \"created_at\": \"2024-08-19T14:07:53.141917Z\",\n      \"email\": \"thomas.hobbes@example.com\",\n      \"subscriber_uuid\": \"137c0d83-8de6-44e2-a55f-d4238ab21969\",\n      \"subscriber_id\": 99,\n      \"campaign\": {\n        \"id\": 1,\n        \"name\": \"Test campaign\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"apis/subscribers/#post-apisubscribers","title":"POST /api/subscribers","text":"<p>Create a new subscriber.</p>"},{"location":"apis/subscribers/#parameters_3","title":"Parameters","text":"Name Type Required Description email string Yes Subscriber's email address. name string Yes Subscriber's name. status string Yes Subscriber's status: <code>enabled</code>, <code>blocklisted</code>. lists number[] List of list IDs to subscribe to. attribs JSON Attributes of the new subscriber. preconfirm_subscriptions bool If true, subscriptions are marked as confirmed and no-optin emails are sent for double opt-in lists."},{"location":"apis/subscribers/#example-request_4","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' 'http://localhost:9000/api/subscribers' -H 'Content-Type: application/json' \\\n    --data '{\"email\":\"subscriber@domain.com\",\"name\":\"The Subscriber\",\"status\":\"enabled\",\"lists\":[1],\"attribs\":{\"city\":\"Bengaluru\",\"projects\":3,\"stack\":{\"languages\":[\"go\",\"python\"]}}}'\n</code></pre>"},{"location":"apis/subscribers/#example-response_4","title":"Example Response","text":"<pre><code>{\n  \"data\": {\n    \"id\": 3,\n    \"created_at\": \"2019-07-03T12:17:29.735507+05:30\",\n    \"updated_at\": \"2019-07-03T12:17:29.735507+05:30\",\n    \"uuid\": \"eb420c55-4cfb-4972-92ba-c93c34ba475d\",\n    \"email\": \"subscriber@domain.com\",\n    \"name\": \"The Subscriber\",\n    \"attribs\": {\n      \"city\": \"Bengaluru\",\n      \"projects\": 3,\n      \"stack\": { \"languages\": [\"go\", \"python\"] }\n    },\n    \"status\": \"enabled\",\n    \"lists\": [1]\n  }\n}\n</code></pre>"},{"location":"apis/subscribers/#post-apisubscriberssubscribers_idoptin","title":"POST /api/subscribers/{subscribers_id}/optin","text":"<p>Sends optin confirmation email to subscribers.</p>"},{"location":"apis/subscribers/#example-request_5","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' 'http://localhost:9000/api/subscribers/11/optin' -H 'Content-Type: application/json' \\\n--data {}\n</code></pre>"},{"location":"apis/subscribers/#example-response_5","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n} \n</code></pre>"},{"location":"apis/subscribers/#post-apipublicsubscription","title":"POST /api/public/subscription","text":"<p>Create a public subscription, accepts both form encoded or JSON encoded body.</p>"},{"location":"apis/subscribers/#parameters_4","title":"Parameters","text":"Name Type Required Description email string Yes Subscriber's email address. name string Subscriber's name. list_uuids string[] Yes List of list UUIDs."},{"location":"apis/subscribers/#example-json-request","title":"Example JSON Request","text":"<pre><code>curl 'http://localhost:9000/api/public/subscription' -H 'Content-Type: application/json' \\\n    --data '{\"email\":\"subscriber@domain.com\",\"name\":\"The Subscriber\",\"list_uuids\": [\"eb420c55-4cfb-4972-92ba-c93c34ba475d\", \"0c554cfb-eb42-4972-92ba-c93c34ba475d\"]}'\n</code></pre>"},{"location":"apis/subscribers/#example-form-request","title":"Example Form Request","text":"<pre><code>curl -u 'http://localhost:9000/api/public/subscription' \\\n    -d 'email=subscriber@domain.com' -d 'name=The Subscriber' -d 'l=eb420c55-4cfb-4972-92ba-c93c34ba475d' -d 'l=0c554cfb-eb42-4972-92ba-c93c34ba475d'\n</code></pre> <p>Note: For form request, use <code>l</code> for multiple lists instead of <code>lists</code>.</p>"},{"location":"apis/subscribers/#example-response_6","title":"Example Response","text":"<pre><code>{\n  \"data\": true\n}\n</code></pre>"},{"location":"apis/subscribers/#put-apisubscriberslists","title":"PUT /api/subscribers/lists","text":"<p>Modify subscriber list memberships.</p>"},{"location":"apis/subscribers/#parameters_5","title":"Parameters","text":"Name Type Required Description ids number[] Yes Array of user IDs to be modified. action string Yes Action to be applied: <code>add</code>, <code>remove</code>, or <code>unsubscribe</code>. target_list_ids number[] Yes Array of list IDs to be modified. status string Required for <code>add</code> Subscriber status: <code>confirmed</code>, <code>unconfirmed</code>, or <code>unsubscribed</code>."},{"location":"apis/subscribers/#example-request_6","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' -X PUT 'http://localhost:9000/api/subscribers/lists' \\\n-H 'Content-Type: application/json' \\\n--data-raw '{\"ids\": [1, 2, 3], \"action\": \"add\", \"target_list_ids\": [4, 5, 6], \"status\": \"confirmed\"}'\n</code></pre>"},{"location":"apis/subscribers/#example-response_7","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n} \n</code></pre>"},{"location":"apis/subscribers/#put-apisubscriberssubscriber_id","title":"PUT /api/subscribers/{subscriber_id}","text":"<p>Update a specific subscriber.</p> <p>Refer to parameters from POST /api/subscribers. Note: All parameters must be set, if not, the subscriber will be removed from all previously assigned lists.</p>"},{"location":"apis/subscribers/#put-apisubscriberssubscriber_idblocklist","title":"PUT /api/subscribers/{subscriber_id}/blocklist","text":"<p>Blocklist a specific subscriber.</p>"},{"location":"apis/subscribers/#parameters_6","title":"Parameters","text":"Name Type Required Description subscriber_id Number Yes Subscriber's ID."},{"location":"apis/subscribers/#example-request_7","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' -X PUT 'http://localhost:9000/api/subscribers/9/blocklist'\n</code></pre>"},{"location":"apis/subscribers/#example-response_8","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n} \n</code></pre>"},{"location":"apis/subscribers/#put-apisubscribersblocklist","title":"PUT /api/subscribers/blocklist","text":"<p>Blocklist multiple subscriber.</p>"},{"location":"apis/subscribers/#parameters_7","title":"Parameters","text":"Name Type Required Description ids Number Yes Subscriber's ID."},{"location":"apis/subscribers/#example-request_8","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' -X PUT 'http://localhost:8080/api/subscribers/blocklist' -H 'Content-Type: application/json' --data-raw '{\"ids\":[2,1]}'\n</code></pre>"},{"location":"apis/subscribers/#example-response_9","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n} \n</code></pre>"},{"location":"apis/subscribers/#put-apisubscribersqueryblocklist","title":"PUT /api/subscribers/query/blocklist","text":"<p>Blocklist subscribers based on SQL expression.</p> <p>Refer to the querying and segmentation section for more information on how to query subscribers with SQL expressions.</p>"},{"location":"apis/subscribers/#parameters_8","title":"Parameters","text":"Name Type Required Description query string Yes SQL expression to filter subscribers with. list_ids []number No Optional list IDs to limit the filtering to."},{"location":"apis/subscribers/#example-request_9","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' -X POST 'http://localhost:9000/api/subscribers/query/blocklist' \\\n-H 'Content-Type: application/json' \\\n--data-raw '{\"query\":\"subscribers.name LIKE \\'John Doe\\' AND subscribers.attribs-&gt;&gt;'\\''city'\\'' = '\\''Bengaluru'\\''\"}'\n</code></pre>"},{"location":"apis/subscribers/#example-response_10","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n}\n</code></pre>"},{"location":"apis/subscribers/#delete-apisubscriberssubscriber_id","title":"DELETE /api/subscribers/{subscriber_id}","text":"<p>Delete a specific subscriber.</p>"},{"location":"apis/subscribers/#parameters_9","title":"Parameters","text":"Name Type Required Description subscriber_id Number Yes Subscriber's ID."},{"location":"apis/subscribers/#example-request_10","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' -X DELETE 'http://localhost:9000/api/subscribers/9'\n</code></pre>"},{"location":"apis/subscribers/#example-response_11","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n}\n</code></pre>"},{"location":"apis/subscribers/#delete-apisubscriberssubscriber_idbounces","title":"DELETE /api/subscribers/{subscriber_id}/bounces","text":"<p>Delete a subscriber's bounce records</p>"},{"location":"apis/subscribers/#parameters_10","title":"Parameters","text":"Name Type Required Description id subscriber_id Yes Subscriber's ID."},{"location":"apis/subscribers/#example-request_11","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' -X DELETE 'http://localhost:9000/api/subscribers/9/bounces'\n</code></pre>"},{"location":"apis/subscribers/#example-response_12","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n}\n</code></pre>"},{"location":"apis/subscribers/#delete-apisubscribers","title":"DELETE /api/subscribers","text":"<p>Delete one or more subscribers.</p>"},{"location":"apis/subscribers/#parameters_11","title":"Parameters","text":"Name Type Required Description id number[] Yes Array of subscriber's IDs."},{"location":"apis/subscribers/#example-request_12","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' -X DELETE 'http://localhost:9000/api/subscribers?id=10&amp;id=11'\n</code></pre>"},{"location":"apis/subscribers/#example-response_13","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n}\n</code></pre>"},{"location":"apis/subscribers/#post-apisubscribersquerydelete","title":"POST /api/subscribers/query/delete","text":"<p>Delete subscribers based on SQL expression.</p>"},{"location":"apis/subscribers/#parameters_12","title":"Parameters","text":"Name Type Required Description query string No SQL expression to filter subscribers with. list_ids []number No Optional list IDs to limit the filtering to. all bool No When set to <code>true</code>, ignores any query and deletes all subscribers."},{"location":"apis/subscribers/#example-request_13","title":"Example Request","text":"<pre><code>curl -u 'api_username:access_token' -X POST 'http://localhost:9000/api/subscribers/query/delete' \\\n-H 'Content-Type: application/json' \\\n--data-raw '{\"query\":\"subscribers.name LIKE \\'John Doe\\' AND subscribers.attribs-&gt;&gt;'\\''city'\\'' = '\\''Bengaluru'\\''\"}'\n</code></pre>"},{"location":"apis/subscribers/#example-response_14","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n}\n</code></pre>"},{"location":"apis/templates/","title":"API / Templates","text":"Method Endpoint Description GET /api/templates Retrieve all templates GET /api/templates/{template_id} Retrieve a template GET /api/templates/{template_id}/preview Retrieve template HTML preview POST /api/templates Create a template POST /api/templates/preview Render and preview a template PUT /api/templates/{template_id} Update a template PUT /api/templates/{template_id}/default Set default template DELETE /api/templates/{template_id} Delete a template"},{"location":"apis/templates/#get-apitemplates","title":"GET /api/templates","text":"<p>Retrieve all templates.</p>"},{"location":"apis/templates/#example-request","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/templates'\n</code></pre>"},{"location":"apis/templates/#example-response","title":"Example Response","text":"<pre><code>{\n    \"data\": [\n        {\n            \"id\": 1,\n            \"created_at\": \"2020-03-14T17:36:41.288578+01:00\",\n            \"updated_at\": \"2020-03-14T17:36:41.288578+01:00\",\n            \"name\": \"Default template\",\n            \"body\": \"{{ template \\\"content\\\" . }}\",\n            \"type\": \"campaign\",\n            \"is_default\": true\n        }\n    ]\n}\n</code></pre>"},{"location":"apis/templates/#get-apitemplatestemplate_id","title":"GET /api/templates/{template_id}","text":"<p>Retrieve a specific template.</p>"},{"location":"apis/templates/#parameters","title":"Parameters","text":"Name Type Required Description template_id number Yes ID of the template to retrieve"},{"location":"apis/templates/#example-request_1","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/templates/1'\n</code></pre>"},{"location":"apis/templates/#example-response_1","title":"Example Response","text":"<pre><code>{\n    \"data\": {\n        \"id\": 1,\n        \"created_at\": \"2020-03-14T17:36:41.288578+01:00\",\n        \"updated_at\": \"2020-03-14T17:36:41.288578+01:00\",\n        \"name\": \"Default template\",\n        \"body\": \"{{ template \\\"content\\\" . }}\",\n        \"type\": \"campaign\",\n        \"is_default\": true\n    }\n}\n</code></pre>"},{"location":"apis/templates/#get-apitemplatestemplate_idpreview","title":"GET /api/templates/{template_id}/preview","text":"<p>Retrieve the HTML preview of a template.</p>"},{"location":"apis/templates/#parameters_1","title":"Parameters","text":"Name Type Required Description template_id number Yes ID of the template to preview"},{"location":"apis/templates/#example-request_2","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X GET 'http://localhost:9000/api/templates/1/preview'\n</code></pre>"},{"location":"apis/templates/#example-response_2","title":"Example Response","text":"<pre><code>&lt;p&gt;Hi there&lt;/p&gt;\n&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis et elit ac elit sollicitudin condimentum non a magna.\n    Sed tempor mauris in facilisis vehicula. Aenean nisl urna, accumsan ac tincidunt vitae, interdum cursus massa.\n    Interdum et malesuada fames ac ante ipsum primis in faucibus. Aliquam varius turpis et turpis lacinia placerat.\n    Aenean id ligula a orci lacinia blandit at eu felis. Phasellus vel lobortis lacus. Suspendisse leo elit, luctus sed\n    erat ut, venenatis fermentum ipsum. Donec bibendum neque quis.&lt;/p&gt;\n\n&lt;h3&gt;Sub heading&lt;/h3&gt;\n&lt;p&gt;Nam luctus dui non placerat mattis. Morbi non accumsan orci, vel interdum urna. Duis faucibus id nunc ut euismod.\n    Curabitur et eros id erat feugiat fringilla in eget neque. Aliquam accumsan cursus eros sed faucibus.&lt;/p&gt;\n\n&lt;p&gt;Here is a link to &lt;a href=\"https://app.stmails.cn\" target=\"_blank\"&gt;stmails&lt;/a&gt;.&lt;/p&gt;\n</code></pre>"},{"location":"apis/templates/#post-apitemplates","title":"POST /api/templates","text":"<p>Create a template.</p>"},{"location":"apis/templates/#parameters_2","title":"Parameters","text":"Name Type Required Description name string Yes Name of the template type string Yes Type of the template (<code>campaign</code> or <code>tx</code>) subject string Subject line for the template (only for <code>tx</code>) body string Yes HTML body of the template"},{"location":"apis/templates/#example-request_3","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X POST 'http://localhost:9000/api/templates' \\\n-H 'Content-Type: application/json' \\\n-d '{\n    \"name\": \"New template\",\n    \"type\": \"campaign\",\n    \"subject\": \"Your Weekly Newsletter\",\n    \"body\": \"&lt;h1&gt;Header&lt;/h1&gt;&lt;p&gt;Content goes here&lt;/p&gt;\"\n}'\n</code></pre>"},{"location":"apis/templates/#example-response_3","title":"Example Response","text":"<pre><code>{\n    \"data\": [\n        {\n            \"id\": 1,\n            \"created_at\": \"2020-03-14T17:36:41.288578+01:00\",\n            \"updated_at\": \"2020-03-14T17:36:41.288578+01:00\",\n            \"name\": \"Default template\",\n            \"body\": \"{{ template \\\"content\\\" . }}\",\n            \"type\": \"campaign\",\n            \"is_default\": true\n        }\n    ]\n}\n</code></pre>"},{"location":"apis/templates/#put-apitemplatestemplate_id","title":"PUT /api/templates/{template_id}","text":"<p>Update a template.</p> <p>Refer to parameters from POST /api/templates</p>"},{"location":"apis/templates/#put-apitemplatestemplate_iddefault","title":"PUT /api/templates/{template_id}/default","text":"<p>Set a template as the default.</p>"},{"location":"apis/templates/#parameters_3","title":"Parameters","text":"Name Type Required Description template_id number Yes ID of the template to set as default"},{"location":"apis/templates/#example-request_4","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X PUT 'http://localhost:9000/api/templates/1/default'\n</code></pre>"},{"location":"apis/templates/#example-response_4","title":"Example Response","text":"<pre><code>{\n    \"data\": {\n        \"id\": 1,\n        \"created_at\": \"2020-03-14T17:36:41.288578+01:00\",\n        \"updated_at\": \"2020-03-14T17:36:41.288578+01:00\",\n        \"name\": \"Default template\",\n        \"body\": \"{{ template \\\"content\\\" . }}\",\n        \"type\": \"campaign\",\n        \"is_default\": true\n    }\n}\n</code></pre>"},{"location":"apis/templates/#delete-apitemplatestemplate_id","title":"DELETE /api/templates/{template_id}","text":"<p>Delete a template.</p>"},{"location":"apis/templates/#parameters_4","title":"Parameters","text":"Name Type Required Description template_id number Yes ID of the template to delete"},{"location":"apis/templates/#example-request_5","title":"Example Request","text":"<pre><code>curl -u \"api_user:token\" -X DELETE 'http://localhost:9000/api/templates/35'\n</code></pre>"},{"location":"apis/templates/#example-response_5","title":"Example Response","text":"<pre><code>{\n    \"data\": true\n}\n</code></pre>"},{"location":"apis/transactional/","title":"API / Transactional","text":"Method Endpoint Description POST /api/tx Send transactional messages"},{"location":"apis/transactional/#post-apitx","title":"POST /api/tx","text":"<p>Allows sending transactional messages to one or more subscribers via a preconfigured transactional template.</p>"},{"location":"apis/transactional/#parameters","title":"Parameters","text":"Name Type Required Description subscriber_email string Email of the subscriber. Can substitute with <code>subscriber_id</code>. subscriber_id number Subscriber's ID can substitute with <code>subscriber_email</code>. subscriber_emails string[] Multiple subscriber emails as alternative to <code>subscriber_email</code>. subscriber_ids number[] Multiple subscriber IDs as an alternative to <code>subscriber_id</code>. template_id number Yes ID of the transactional template to be used for the message. from_email string Optional sender email. data JSON Optional nested JSON map. Available in the template as <code>{{ .Tx.Data.* }}</code>. headers JSON[] Optional array of email headers. messenger string Messenger to send the message. Default is <code>email</code>. content_type string Email format options include <code>html</code>, <code>markdown</code>, and <code>plain</code>."},{"location":"apis/transactional/#example","title":"Example","text":"<pre><code>curl -u \"api_user:token\" \"http://localhost:9000/api/tx\" -X POST \\\n     -H 'Content-Type: application/json; charset=utf-8' \\\n     --data-binary @- &lt;&lt; EOF\n    {\n        \"subscriber_email\": \"user@test.com\",\n        \"template_id\": 2,\n        \"data\": {\"order_id\": \"1234\", \"date\": \"2022-07-30\", \"items\": [1, 2, 3]},\n        \"content_type\": \"html\"\n    }\nEOF\n</code></pre>"},{"location":"apis/transactional/#example-response","title":"Example response","text":"<pre><code>{\n    \"data\": true\n}\n</code></pre>"},{"location":"apis/transactional/#file-attachments","title":"File Attachments","text":"<p>To include file attachments in a transactional message, use the <code>multipart/form-data</code> Content-Type. Use <code>data</code> param for the parameters described above as a JSON object. Include any number of attachments via the <code>file</code> param.</p> <pre><code>curl -u \"api_user:token\" \"http://localhost:9000/api/tx\" -X POST \\\n-F 'data=\\\"{\n    \\\"subscriber_email\\\": \\\"user@test.com\\\",\n    \\\"template_id\\\": 4\n}\"' \\\n-F 'file=@\"/path/to/attachment.pdf\"' \\\n-F 'file=@\"/path/to/attachment2.pdf\"'\n</code></pre>"},{"location":"gstart/mailbox-configuration/","title":"\u90ae\u7bb1\u914d\u7f6e","text":""},{"location":"gstart/mailbox-configuration/#_2","title":"\u53d1\u4fe1\u90ae\u7bb1\u914d\u7f6e","text":"<p>\u5728<code>\u8bbe\u7f6e -&gt; SMTP\u670d\u52a1\u5668</code>\u4e0b\u914d\u7f6e\u53d1\u4fe1\u670d\u52a1\u5668\u3002</p>"},{"location":"gstart/mailbox-configuration/#163","title":"163\u53d1\u4fe1","text":"<ol> <li>\u767b\u9646163\u90ae\u7bb1\uff0c\u5728<code>\u8bbe\u7f6e -&gt; POP3/SMTP/IMAP</code>\u4e0b\u5f00\u542f<code>IMAP/SMTP\u670d\u52a1</code>\u548c<code>POP3/SMTP</code>\u670d\u52a1\u3002\u5728\u6388\u6743\u5bc6\u7801\u7ba1\u7406\u4e0b\u65b0\u589e\u4e00\u4e2a\u6388\u6743\u5bc6\u7801\uff0c\u5e76\u4fdd\u5b58\u3002 </li> <li> <p>\u6253\u5f00stmails\u627e\u5230<code>\u8bbe\u7f6e -&gt; SMTP\u670d\u52a1\u5668</code>\u4e0b\u542f\u7528\u4e00\u4e2aSMTP\u53d1\u4fe1\u670d\u52a1\u5668\u3002\u586b\u5199\u8868\u5355\u5e76\u4fdd\u5b58</p> <p>\u4e3b\u673a\uff1asmtp.163.com </p> <p>\u7aef\u53e3: 25 </p> <p>\u8eab\u4efd\u9a8c\u8bc1\u534f\u8bae\uff1aPLAIN </p> <p>\u7528\u6237\u540d\uff1a\u4f60\u81ea\u5df1\u7684163\u90ae\u7bb1\u53f7 </p> <p>\u5bc6\u7801\uff1a163\u90ae\u7bb1\u7684\u6388\u6743\u7801 </p> <p>TLS\u534f\u8bae\uff1aSTARTTLS </p> <p></p> </li> </ol>"},{"location":"gstart/mailbox-configuration/#qq","title":"qq\u53d1\u4fe1","text":"<ol> <li> <p>\u767b\u9646qq\u90ae\u7bb1\uff0c\u5728<code>\u8bbe\u7f6e -&gt; \u8d26\u53f7 -&gt; POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV\u670d\u52a1</code>\u4e0b\u5f00\u542f\u670d\u52a1\uff0c\u751f\u6210\u6388\u6743\u5bc6\u7801\uff0c\u5e76\u4fdd\u5b58\u3002 </p> </li> <li> <p>\u6253\u5f00stmails\u627e\u5230<code>\u8bbe\u7f6e -&gt; SMTP\u670d\u52a1\u5668</code>\u4e0b\u542f\u7528\u4e00\u4e2aSMTP\u53d1\u4fe1\u670d\u52a1\u5668\u3002\u586b\u5199\u8868\u5355\u5e76\u4fdd\u5b58</p> <p>\u4e3b\u673a\uff1asmtp.qq.com </p> <p>\u7aef\u53e3: 25 </p> <p>\u8eab\u4efd\u9a8c\u8bc1\u534f\u8bae\uff1aPLAIN </p> <p>\u7528\u6237\u540d\uff1a\u4f60\u81ea\u5df1\u7684qq\u90ae\u7bb1\u53f7 </p> <p>\u5bc6\u7801\uff1aqq\u90ae\u7bb1\u7684\u6388\u6743\u7801 </p> <p>TLS\u534f\u8bae\uff1aSTARTTLS </p> <p></p> </li> </ol>"},{"location":"gstart/mailbox-configuration/#_3","title":"\u9000\u4fe1\u90ae\u7bb1\u914d\u7f6e","text":"<p>\u5728<code>\u8bbe\u7f6e -&gt; \u53cd\u5f39</code>\u4e0b\u914d\u7f6e\u9000\u56de\u90ae\u7bb1</p>"},{"location":"gstart/mailbox-configuration/#163_1","title":"163\u9000\u4fe1","text":"<p>\u6253\u5f00stmails\u627e\u5230<code>\u8bbe\u7f6e -&gt; \u53cd\u5f39</code>\u4e0b\u542f\u7528\u90ae\u4ef6\u56de\u5f39\u529f\u80fd\u3002\u586b\u5199\u8868\u5355\u5e76\u4fdd\u5b58</p> <p>\u4e3b\u673a\uff1apop.163.com </p> <p>\u7aef\u53e3: 995 </p> <p>\u8eab\u4efd\u9a8c\u8bc1\u534f\u8bae\uff1auserpass </p> <p>\u7528\u6237\u540d\uff1a\u4f60\u81ea\u5df1\u7684163\u90ae\u7bb1\u53f7 </p> <p>\u5bc6\u7801\uff1a163\u90ae\u7bb1\u7684\u6388\u6743\u7801 </p> <p>TLS\u534f\u8bae\uff1a\u542f\u7528 </p> <p></p>"},{"location":"gstart/mailbox-configuration/#qq_1","title":"qq\u9000\u4fe1","text":"<p>\u6253\u5f00stmails\u627e\u5230<code>\u8bbe\u7f6e -&gt; \u53cd\u5f39</code>\u4e0b\u542f\u7528\u90ae\u4ef6\u56de\u5f39\u529f\u80fd\u3002\u586b\u5199\u8868\u5355\u5e76\u4fdd\u5b58</p> <p>\u4e3b\u673a\uff1apop.qq.com </p> <p>\u7aef\u53e3: 995 </p> <p>\u8eab\u4efd\u9a8c\u8bc1\u534f\u8bae\uff1auserpass </p> <p>\u7528\u6237\u540d\uff1a\u4f60\u81ea\u5df1\u7684qq\u90ae\u7bb1\u53f7 </p> <p>\u5bc6\u7801\uff1aqq\u90ae\u7bb1\u7684\u6388\u6743\u7801 </p> <p>TLS\u534f\u8bae\uff1a\u542f\u7528 </p> <p></p>"},{"location":"maintenance/performance/","title":"Performance","text":"<p>stmails is built to be highly performant and can handle millions of subscribers with minimal system resources.</p> <p>However, as the Postgres database grows\u2014with a large number of subscribers, campaign views, and click records\u2014it can significantly slow down certain aspects of the program, particularly in counting records and aggregating various statistics. For instance, loading admin pages that do these aggregations can take tens of seconds if the database has millions of subscribers.</p> <ul> <li>Aggregate counts, statistics, and charts on the landing dashboard.</li> <li>Subscriber count beside every list on the Lists page.</li> <li>Total subscriber count on the Subscribers page.</li> </ul> <p>However, at that scale, viewing the exact number of subscribers or statistics every time the admin panel is accessed becomes mostly unnecessary. On installations with millions of subscribers, where the above pages do not load instantly, it is highly recommended to turn on the <code>Settings -&gt; Performance -&gt; Cache slow database queries</code> option.</p>"},{"location":"maintenance/performance/#slow-query-caching","title":"Slow query caching","text":"<p>When this option is enabled, the subscriber counts on the Lists page, the Subscribers page, and the statistics on the dashboard, etc., are no longer counted in real-time in the database. Instead, they are updated periodically and cached, resulting in a massive performance boost. The periodicity can be configured on the Settings -&gt; Performance page using a standard crontab expression (default: <code>0 3 * * *</code>, which means 3 AM daily). Use a tool like crontab.guru for easily generating a desired crontab expression.</p>"},{"location":"maintenance/performance/#vacuum-ing","title":"VACUUM-ing","text":"<p>Running <code>VACUUM ANALYZE</code> on large Postgres databases at regular intervals (for instance, once a week), is recommended. It reclaims disk space and improves Postgres' query performance. Do note that this is a blocking operation and all database queries can come to a stand-still on a large database while the operation is running (generally only a few seconds).</p>"}]}